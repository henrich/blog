<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Debian on Forget me not...</title>
    <link>https://henrich.github.io/blog/tags/debian/</link>
    <description>Recent content in Debian on Forget me not...</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-JP</language>
    <managingEditor>henrich@debian.org (Hideki Yamane)</managingEditor>
    <webMaster>henrich@debian.org (Hideki Yamane)</webMaster>
    <copyright>2015-  Hideki Yamane</copyright>
    <lastBuildDate>Fri, 01 Jan 2100 06:58:34 +0900</lastBuildDate>
    <atom:link href="/blog/tags/debian/" rel="self" type="application/rss+xml" />
    
      
        
          <item>
            <title>future work</title>
            <link>https://henrich.github.io/blog/2100/01/01/future-work/</link>
            <pubDate>Fri, 01 Jan 2100 06:58:34 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2100/01/01/future-work/</guid>
            <description>

&lt;h1 id=&#34;支援について&#34;&gt;支援について&lt;/h1&gt;

&lt;p&gt;このBlogにあるようなDebian関連の作業について支援して頂ける方、henrich @ debian.org 宛に&lt;a href=&#34;http://amzn.to/2u7MfE5&#34;&gt;Amazonギフト券&lt;/a&gt;でのコントリビューションをお待ちしております :-)&lt;/p&gt;

&lt;h2 id=&#34;とりあえずのtodoリスト&#34;&gt;とりあえずのTodoリスト&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;openQAをビルドできるように、必要なツールをパッケージにする

&lt;ul&gt;
&lt;li&gt;Selenium::Remote::Driver &lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=839569&#34;&gt;Bug#839569&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://build.opensuse.org/package/view_file/openSUSE:Factory/openQA/openQA.spec?expand=1&#34;&gt;specファイル&lt;/a&gt;参照&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lintian.debian.org/maintainer/pkg-fonts-devel@lists.alioth.debian.org.html&#34;&gt;pkg-fonts-devel&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;afdkoをビルドできるように、必要なツールをパッケージにする&lt;/li&gt;
&lt;li&gt;fontforgeパッケージの更新をどうするか&lt;/li&gt;
&lt;li&gt;ttf- パッケージを可能な限りdropする（現在55個）&lt;/li&gt;
&lt;li&gt;duplicate font fileをなくす&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;webwmlリポジトリをcvsからgitに変換する。その際にはcommitしたユーザー情報を用意する&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=719557&#34;&gt;mecabパッケージのバグ修正&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://lists.debian.or.jp/pipermail/debian-doc/2017-July/000060.html&#34;&gt;apt-listchangesのpo&lt;/a&gt;をファイルする&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=796882&#34;&gt;hyperv-daemonsの修正&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/15/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Sun, 15 Oct 2017 07:39:55 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/15/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;パッケージを拾って色々分析居しているサイトが&lt;a href=&#34;https://repology.org/maintainer/henrich%40debian.org/problems&#34;&gt;担当しているパッケージの問題を列挙してた&lt;/a&gt;ので対応する。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/879346&#34;&gt;poppler-data&lt;/a&gt;を更新&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/879341&#34;&gt;fonts-ipaexfont&lt;/a&gt;を更新&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/879347&#34;&gt;fonts-ipafont-nonfree&lt;/a&gt;を更新&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/879348&#34;&gt;fonts-ipafont-nonfree-jisx0208&lt;/a&gt;を更新&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/879353&#34;&gt;fonts-ipafont&lt;/a&gt;を更新&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&#34;https://qa.debian.org/developer.php?login=henrich&amp;amp;comaint=yes&#34;&gt;packages overview&lt;/a&gt;を参照して問題洗い出し&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;git pushを忘れていたのを幾つか対応。&lt;/li&gt;
&lt;li&gt;xfonts-* パッケージが今までの&lt;code&gt;Section: x11&lt;/code&gt;でなくて&lt;code&gt;Section: fonts&lt;/code&gt;をlintianで推奨されるようになったので、ホント？という&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=878609&#34;&gt;質問をした&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/879352&#34;&gt;pleaiades&lt;/a&gt;のwatchファイルがhttpだったのを直した&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/879349&#34;&gt;jcodings&lt;/a&gt;のwatchファイルもhttpだったのを直した（まぁgitでmergeしてるんだけども）&lt;/li&gt;
&lt;li&gt;[yydebug]()を諸々更新。&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://martiansoftware.com/nailgun/&#34;&gt;nailgunのウェブサイト&lt;/a&gt;を見たら、「facebookに移管するぜ」って書いてあったので、数カ月したらそっち見るようにしないと&amp;hellip;。&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/14/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Sat, 14 Oct 2017 19:53:18 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/14/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;今日も今日とてopenQAに&lt;a href=&#34;https://github.com/os-autoinst/openQA/pull/1472&#34;&gt;１行パッチ&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bugs.debian.org/878494&#34;&gt;ttf-kacstを落として、というバグレポート&lt;/a&gt;がHolgerから。あーすっかり忘れてた&amp;hellip;。依存関係として落とさないといけないのかどうかの確証が得られず、質問をしてみた。

&lt;ul&gt;
&lt;li&gt;納得したので、&lt;a href=&#34;https://tracker.debian.org/news/879272&#34;&gt;Uploadした&lt;/a&gt;。関連ありそうな別パッケージについては&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=878520&#34;&gt;バグレポート&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/13/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Fri, 13 Oct 2017 21:59:22 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/13/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;&lt;code&gt;gbpの使い方をざっと教えて&lt;/code&gt; というリクエストを頂いたのでざっくりメモ。&lt;/p&gt;

&lt;hr /&gt;

&lt;pre&gt;&lt;code&gt;$ git clone https://anonscm.debian.org/git/collab-maint/cutter-testing-framework.git
Cloning into &#39;cutter-testing-framework&#39;...
remote: Counting objects: 3334, done.
remote: Compressing objects: 100% (949/949), done.
remote: Total 3334 (delta 2336), reused 3323 (delta 2336)
Receiving objects: 100% (3334/3334), 3.69 MiB | 442.00 KiB/s, done.
Resolving deltas: 100% (2336/2336), done.

$ cd cutter-testing-framework/

$ gbp import-orig --uscan --pristine-tar
gbp:error: 
Repository does not have branch &#39;upstream&#39; for upstream sources. If there is none see
file:///usr/share/doc/git-buildpackage/manual-html/gbp.import.html#GBP.IMPORT.CONVERT
on howto create it otherwise use --upstream-branch to specify it.

$ git checkout upstream
Branch &#39;upstream&#39; set up to track remote branch &#39;upstream&#39; from &#39;origin&#39;.
Switched to a new branch &#39;upstream&#39;
$ git checkout pristine-tar 
Branch &#39;pristine-tar&#39; set up to track remote branch &#39;pristine-tar&#39; from &#39;origin&#39;.
Switched to a new branch &#39;pristine-tar&#39;
$ git checkout master 
Switched to branch &#39;master&#39;
Your branch is up to date with &#39;origin/master&#39;.

$ gbp import-orig --uscan --pristine-tar
gbp:info: Launching uscan...
uscan: Newest version of cutter-testing-framework on remote site is 1.2.6, local version is 1.2.4
uscan:    =&amp;gt; Newer package available from
      http://cutter.sourceforge.net/archives/debian/cutter-testing-framework-1.2.6.tar.gz
gbp:info: using ../cutter-testing-framework_1.2.6.orig.tar.gz
What is the upstream version? [1.2.6] 
gbp:info: Importing &#39;../cutter-testing-framework_1.2.6.orig.tar.gz&#39; to branch &#39;upstream&#39;...
gbp:info: Source package is cutter-testing-framework
gbp:info: Upstream version is 1.2.6
gbp:info: Replacing upstream source on &#39;master&#39;
gbp:info: Successfully imported version 1.2.6 of ../cutter-testing-framework_1.2.6.orig.tar.gz
(色々編集してコミット...)
$ dch -v 1.2.6-1
$ dch -r
$ gbp buildpackage --git-pbuilder --git-pristine-tar
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;ul&gt;
&lt;li&gt;upstream archiveのimportの際に &lt;code&gt;--pristine-tar&lt;/code&gt; でpristine-tarブランチにコミットしておくのを忘れない&lt;/li&gt;
&lt;li&gt;最初にupstreamブランチとpristine-tarブランチをchekoutしないとビルドの際にエラー（面倒くさいけど）

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--git-pbuilder&lt;/code&gt; でpbuilder/cowbuilder環境を使う&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--git-pristine-tar&lt;/code&gt; で pristine-tar ブランチのファイルを使う&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;これぐらいかな。今回はmasterブランチが＝debian作業のブランチだけど、debianブランチを分けて作ってる場合は &lt;code&gt;--git-ignore-branch&lt;/code&gt; 付けてビルドが必要。&lt;/p&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/11/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Wed, 11 Oct 2017 05:09:21 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/11/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;DMの方の活動が年単位で無いのでping&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/10/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Tue, 10 Oct 2017 06:52:08 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/10/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://anonscm.debian.org/git/collab-maint/cutter-testing-framework.git&#34;&gt;cutter-testing-frameworkのリポジトリを作っておいた&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;実作業はupstreamの@kenhysさんにお任せで&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;とりあえず、unidicをアップデートしてみるか？と少しだけ作業。

&lt;ul&gt;
&lt;li&gt;他のunidic辞書もパッケージにしても面白いか？&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://oss-gate.github.io/&#34;&gt;OSS Gate&lt;/a&gt;に拙著を寄贈しようと言う話をした。&lt;/li&gt;
&lt;li&gt;昨日のos-autoinstのハングアップが直ったのでその旨連絡した。&lt;/li&gt;
&lt;li&gt;os-autoinstで&lt;a href=&#34;https://github.com/os-autoinst/os-autoinst/pull/865&#34;&gt;debhelperが誤ってファイルを消すのを対処&lt;/a&gt;した。&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/takuya_ono/status/917653702244044801&#34;&gt;guacamoleパッケージがおかしい、というつぶやき&lt;/a&gt;を見たので、MLにパッチの提案だけしておく&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;rustを使ったソースのパッケージングについて。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/sharkdp/fd&#34;&gt;https://github.com/sharkdp/fd&lt;/a&gt; というのを見かけて面白そうなのでパッケージングしてみようとする。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git clone https://github.com/sharkdp/fd; cd fd
$ git checkout -b debian
$ dh_make --createorig -s -p fd_4.0.0
(debianディレクトリをいじる…)
$ git add debian; git commit
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;で、ビルドすると通るけど何もしてない風味。ざっくりrustcを使うのはなにかあるのだろうか？と調べると dh-cargo というのが見つかった。どうやら、rustなパッケージは &lt;code&gt;dh --buildsystem cargo&lt;/code&gt; という形で実施するようだ。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;   dh_auto_install -O--buildsystem=cargo
cp: cannot stat &#39;./debian/cargo-checksum.json&#39;: No such file or directory
dh_auto_install: cp ./debian/cargo-checksum.json /build/fd-4.0.0/debian/cargo_registry/fd-4.0.0/.cargo-checksum.json returned exit code 1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;debian/cargo-checksum.json が必要、らしいが &lt;a href=&#34;https://wiki.debian.org/Teams/RustPackaging/Policy&#34;&gt;https://wiki.debian.org/Teams/RustPackaging/Policy&lt;/a&gt; を見ても何書いていいかがさっぱりわからん… &lt;a href=&#34;https://codesearch.debian.net/search?q=debian%2Fcargo-checksum.json&#34;&gt;ソースを検索した&lt;/a&gt;けど、もとからあるファイルをコピーしているようにしか見えない（が、無いんだよな…）&lt;/p&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/09/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Mon, 09 Oct 2017 14:31:17 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/09/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;os-autoinstが止まるのをinvestigation。

&lt;ul&gt;
&lt;li&gt;新しいperlモジュールがtestに必要になってたようなので、ビルドする。&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=878042&#34;&gt;ITPもする&lt;/a&gt;。&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=878041&#34;&gt;そのビルドに必要な別のperlモジュールもITPする&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ITPしたのは&lt;a href=&#34;http://pkg-perl.alioth.debian.org/git.html&#34;&gt;$ dtp alioth-repo&lt;/a&gt;という感じでpushしておいた。&lt;/li&gt;
&lt;li&gt;が、やっぱり止まるのは変わらないので&lt;a href=&#34;https://progress.opensuse.org/issues/25844&#34;&gt;issue登録&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;何が原因だか、今の所サッパリなので Jessie や Strech 環境を作ったりしてテスト。Jessie だと libmojolicious-perl が古すぎてモジュールが含まれないせいでテストコケるのでsidのを持ってきたり。その流れでnewest upstreamのを手元でビルドして差し替えもしてみた。が、結局何も変わらず。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;unidicのサイトが変更されたのに関する&lt;a href=&#34;https://twitter.com/henrich/status/917274260153843712&#34;&gt;ライセンス表記周りの意見&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;忘れてた&lt;a href=&#34;https://github.com/sphinx-doc/sphinx/issues/4131&#34;&gt;sphinxのissue登録&lt;/a&gt;をやっておいた&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/08/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Sun, 08 Oct 2017 12:52:13 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/08/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;忘れないうちに&lt;a href=&#34;https://github.com/os-autoinst/openQA/pull/1465&#34;&gt;１行パッチ&lt;/a&gt;をopenQAに。&lt;/li&gt;
&lt;li&gt;openSUSE asia summitの発表の練習をしてみる。15分にはなんとか収まりそう。&lt;/li&gt;
&lt;li&gt;Debian JPのサイト、9.2リリースを反映しておいた&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/07/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Sat, 07 Oct 2017 11:50:39 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/07/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.debian.org/releases/stretch/amd64/release-notes/&#34;&gt;リリースノート&lt;/a&gt;の更新に気がついたので追従しておいた。&lt;/li&gt;
&lt;li&gt;openSUSEをいじってたらsnapperのアップデートがあったが、&lt;a href=&#34;https://github.com/openSUSE/snapper/issues/364&#34;&gt;そのバージョンのタグがgit repositoryに打たれてない。。。&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;openQAやos-autoinstもタグが打たれてないので、&lt;a href=&#34;https://progress.opensuse.org/issues/25826&#34;&gt;お願いを出す&lt;/a&gt;など&amp;hellip;。&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;openQAを漸くビルドし始めたのだけど、早速モジュールが足りないというエラーが&amp;hellip;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Can&#39;t locate Mojolicious/Plugin/AssetPack/Backcompat.pm in @INC (you may need
        to install the Mojolicious::Plugin::AssetPack::Backcompat module)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;なんでupstreamの依存関係には含まれとらんのだろう？&lt;/p&gt;

&lt;p&gt;んじゃさくっとdh-make-perl&amp;hellip;したらcpanに無い？？？どうやら消されているようだ。仕方がないので&lt;a href=&#34;https://github.com/jhthorsen/mojolicious-plugin-assetpack/issues/129&#34;&gt;upstreamに質問&lt;/a&gt;
→ &lt;a href=&#34;http://backpan.cpantesters.org/authors/id/J/JH/JHTHORSEN/&#34;&gt;backpan&lt;/a&gt;というところに消したのは置いてあるよ、と教えてもらった。しかし、&lt;a href=&#34;http://backpan.cpantesters.org/authors/id/J/JH/JHTHORSEN/Mojolicious-Plugin-AssetPack-Backcompat-1.24.readme&#34;&gt;本来これは必要ないはず&lt;/a&gt;、なんだけども&amp;hellip;？&lt;/p&gt;

&lt;p&gt;兎にも角にも、とりあえずぶち込んでみてtestを実行してみると&amp;hellip;またエラーだ。以下が延々と。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Uncaught exception from user code:
        Plugin &amp;quot;bootstrap3&amp;quot; missing, maybe you need to install it?
        Mojolicious::Plugins::load_plugin(Mojolicious::Plugins=HASH(0x562086593f80), &amp;quot;bootstrap3&amp;quot;) called at /usr/share/perl5/Mojolicious/Plugins.pm line 46
        Mojolicious::Plugins::register_plugin(Mojolicious::Plugins=HASH(0x562086593f80), &amp;quot;bootstrap3&amp;quot;, OpenQA::WebAPI=HASH(0x562086540380), HASH(0x5620867fe6d8)) called at /usr/share/perl5/Mojolicious.pm line 186
        Mojolicious::plugin(OpenQA::WebAPI=HASH(0x562086540380), &amp;quot;bootstrap3&amp;quot;, HASH(0x5620867fe6d8)) called at lib/OpenQA/WebAPI.pm line 185
        OpenQA::WebAPI::startup(OpenQA::WebAPI=HASH(0x562086540380)) called at /usr/share/perl5/Mojolicious.pm line 179
        Mojolicious::new(&amp;quot;OpenQA::WebAPI&amp;quot;) called at /usr/share/perl5/Mojo/Server.pm line 17
        Mojo::Server::build_app(Mojo::Server=HASH(0x56208650f6d0), &amp;quot;OpenQA::WebAPI&amp;quot;) called at /usr/share/perl5/Test/Mojo.pm line 247
        Test::Mojo::new(&amp;quot;Test::Mojo&amp;quot;, &amp;quot;OpenQA::WebAPI&amp;quot;) called at ./t/05-scheduler-dependencies.t line 212
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;Can&#39;t locate t/ui/PhantomTest.pm in @INC (you may need to install the t::ui::PhantomTest module) (@INC contains: /build/openqa-4.3/t/ui lib /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.0 /usr/local/share/perl/5.26.0 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at ./t/ui/01-list.t line 37.
BEGIN failed--compilation aborted at ./t/ui/01-list.t line 37 (#1)
    (F) You said to do (or require, or use) a file that couldn&#39;t be found.
    Perl looks for the file in all the locations mentioned in @INC, unless
    the file name included the full path to the file.  Perhaps you need
    to set the PERL5LIB or PERL5OPT environment variable to say where the
    extra library is, or maybe the script needs to add the library name
    to @INC.  Or maybe you just misspelled the name of the file.  See
    &amp;quot;require&amp;quot; in perlfunc and lib.
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;Uncaught exception from user code:
        Can&#39;t locate dbicdh/_common/deploy/_any/21-seeds.pl in @INC (@INC contains: /build/openqa-4.3/t lib /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.0 /usr/local/share/perl/5.26.0 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at (eval 1326) line 4.
         at /usr/share/perl5/Context/Preserve.pm line 42.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Mojolicious::Plugin::Bootstrap3 が必要そうだ。t::ui::PhantomTest と dbicdh/_common/deploy/_any/21-seeds.pl  はわからない。。。&lt;/p&gt;

&lt;p&gt;&amp;hellip;とここまで来たところで「upstreamもtestを実行していないので、とりあえず無視」ということにした。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ビルド時には存在しないユーザーにchownしてる

&lt;ul&gt;
&lt;li&gt;ということはpostinstでchownするほうがいいか&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;assetsディレクトリが存在しないので悩んでいたら、4.3の時点では存在せず、masterにはある&amp;hellip;

&lt;ul&gt;
&lt;li&gt;コメントアウトしておく。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;存在しない systemd service ファイルのインストールが&amp;hellip;

&lt;ul&gt;
&lt;li&gt;とりあえず消す&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ということで4.3のビルドは一旦終わった。&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;色々と試行錯誤してみたが、多分最新のupstreamだと上記のMojolicious::Plugin周りは解決してるんだろうと思う&amp;hellip;ということで、masterをそのまま 4.3+20170928 としてビルド（9/28が最終コミットだったから）&amp;hellip;うわ、これ Makefile の最初のところで &lt;code&gt;./script/generate-packed-assets&lt;/code&gt; というのを実行して、どうやらネット越しにファイルを取ってくるようになってるぞ&amp;hellip;厄介な&amp;hellip;。&lt;/p&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/06/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Fri, 06 Oct 2017 20:34:59 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/06/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;Updated &lt;a href=&#34;http://www.debian.or.jp/using/mirror.html&#34;&gt;mirror list on JP site&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;texliveの-docなパッケージがデカくて毎度のアップデートに時間取られるのが嫌だよねーという話から、色々と改善を模索してみる&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=675869&#34;&gt;PDFのバージョンを上げてサイズを落とす作戦&lt;/a&gt;を深掘り。

&lt;ul&gt;
&lt;li&gt;1.4GBが1.0GBになるのは大きいと思う&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=877771&#34;&gt;-docパッケージがRecommendsになっていて引っ張られるのをSuggestsにしてインストールされないようにする作戦&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;そもそもインストールされなければ気にしなくて済むよね、という話&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=877862&#34;&gt;texlive-fullを-docs-と-utilsに分けて、-docなパッケージをインストールしないようにする作戦&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;わかんないから-fullを入れるのだけど、-docはいらないという人は多そうだから&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=877770&#34;&gt;-docパッケージがtexに依存してるのを確認する問題提起&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=877769&#34;&gt;逆に-docなパッケージ内でgzipでcompressされてるのはいいのか？という問題提起&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>実験実験。</title>
            <link>https://henrich.github.io/blog/2017/10/04/%E5%AE%9F%E9%A8%93%E5%AE%9F%E9%A8%93/</link>
            <pubDate>Wed, 04 Oct 2017 20:29:38 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/04/%E5%AE%9F%E9%A8%93%E5%AE%9F%E9%A8%93/</guid>
            <description>&lt;p&gt;go-apt-cacherによるキャッシュプロキシ実験、今度はもっと大きなパッケージ2つで試してみましょう。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Package: texlive-latex-extra-doc
Download-Size: 384 MB

Package: texlive-pstricks-doc
Download-Size: 248 MB
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;time apt-get download texlive-latex-extra-doc texlive-pstricks-doc&lt;/code&gt; という感じで取得。そして、さらに別のリージョンから試してみたらどうなるか？をやってみました。遠くのほうがいいかな、と西日本リージョンで仮想マシンを作成。そしてテストをしてみた。。。のですが、go-apt-cacherが &lt;code&gt;fatal error: runtime: out of memory&lt;/code&gt; と&lt;a href=&#34;https://github.com/cybozu-go/aptutil/issues/24&#34;&gt;メモリ不足で落ちます&lt;/a&gt;。VMをスケールアップして再度トライしました。&lt;/p&gt;

&lt;p&gt;まずは普通にftp.jp.debian.orgからの取得。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Fetched 412 MB in 36s (11.3 MB/s)
real    0m36.643s

Fetched 412 MB in 30s (13.4 MB/s)
real    0m30.864s

Fetched 412 MB in 26s (15.4 MB/s)
real    0m27.031s
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;次に西日本から取得。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Fetched 412 MB in 19s (20.7 MB/s)
real    0m20.026s

Fetched 412 MB in 19s (21.1 MB/s)
real    0m19.688s

Fetched 412 MB in 18s (22.2 MB/s)
real    0m18.746s
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;東でやってみたら&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Fetched 412 MB in 24s (16.9 MB/s)
real    0m24.203s

Fetched 412 MB in 24s (17.2 MB/s)
real    0m24.598s
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;という感じでリージョンまたぐよりも逆に遅かった…何故だ。&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;結論&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;西日本： 21.3MBs
東日本： 17.0MBs
ダイレクト： 13.6 MBs
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;大体25-56%ぐらいの速度アップは望めるが、以前ほどでもない、という印象です。&lt;/p&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/03/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Tue, 03 Oct 2017 20:05:29 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/03/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/eldesh/status/915031977094389760&#34;&gt;JPのページの誤りの指摘&lt;/a&gt;を頂いたので修正した&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://idcfcloud.com&#34;&gt;IDCFクラウド&lt;/a&gt;のDebianテンプレートで問題を見つけたのでチケットを切っておいた。&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;「VPSサービスに対して、高速なDebianミラーを提供したい」というのを思いつきました。ただ、あらゆるサービスでフルミラーを内部に置くのは難しいでしょうから、キャッシュプロキシを設置して対応するのはどうでしょう？&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;思いついた対象候補

&lt;ul&gt;
&lt;li&gt;さくらのVPS&lt;/li&gt;
&lt;li&gt;ConoHa&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.idcf.jp/cloud/?cl=top_cloud&#34;&gt;IDCFクラウド&lt;/a&gt;(←ここではこれをチョイス)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;IDCFクラウドは、&lt;a href=&#34;https://www.idcf.jp/cloud/order.html?cl=cl_top#try&#34;&gt;500円クーポン&lt;/a&gt;があったのでこの範囲内で収めたいと思います（この後、さらに1000円クーポンを見つけたので今回の実験には十分ですね）。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Debian8 と Ubuntu16.04 なテンプレートがあったので、こちらから仮想マシンを作ります（ファイアウォールの許可設定を忘れてSSHが通らなかった&amp;hellip;）。&lt;/li&gt;
&lt;li&gt;次に&lt;a href=&#34;https://github.com/cybozu-go/aptutil/releases&#34;&gt;go-apt-cacher&lt;/a&gt;をダウンロードしてちょっと設定して起動します。&lt;/li&gt;
&lt;li&gt;最後に/etc/apt/sources.listをいじってcache proxyを参照するようにします。2つのマシンは同じローカルセグメント内に居るので、apt lineのサーバー名はローカルIPを指定しました。&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;# apt show openclipart-png
Package: openclipart-png
Source: openclipart
Version: 1:0.18+dfsg-14
Installed-Size: 148 MB
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;有意な差を確認したいので、そこそこの大きさのパッケージを見つけておきました。約150MBなら違いもでるでしょう。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# time apt-get download openclipart-png
Get:1 http://10.6.0.179:3142/debian/ jessie/main openclipart-png all 1:0.18+dfsg-14 [128 MB]
Fetched 128 MB in 10s (12.2 MB/s)          

real    0m10.742s
user    0m2.204s
sys 0m0.420s
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;まだキャッシュされていない状態からの取得は10.7秒（12.2MB/s）&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# time apt-get download openclipart-png
Get:1 http://10.6.0.179:3142/debian/ jessie/main openclipart-png all 1:0.18+dfsg-14 [128 MB]
Fetched 128 MB in 2s (50.3 MB/s)           

real    0m2.758s
user    0m2.028s
sys 0m0.336s

# time apt-get download openclipart-png
Get:1 http://10.6.0.179:3142/debian/ jessie/main openclipart-png all 1:0.18+dfsg-14 [128 MB]
Fetched 128 MB in 2s (43.0 MB/s)          

real    0m3.423s
user    0m2.292s
sys 0m0.396s

# time apt-get download openclipart-png
Get:1 http://10.6.0.179:3142/debian/ jessie/main openclipart-png all 1:0.18+dfsg-14 [128 MB]
Fetched 128 MB in 3s (42.2 MB/s)           

real    0m3.237s
user    0m2.496s
sys 0m0.464s
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;キャッシュされた状態からだと平均で3.13秒（45.1MB/s）&lt;/p&gt;

&lt;p&gt;ということで、12.2MB/s vs 45.1MB/s で3倍は速くなりそう、という雑な結論&amp;hellip;ではありますが、IDCFクラウドで最も低スペックなマシン（light.S1、0.8GHz 1CPU/1GB Mem）で提供してもこの結果が出せたので、そこそこの大きさのVM作っておけば、めっちゃ多くのVMからのアクセスでもコンスタントに出せるようにはなるのでは？という推論。次は「同じサービスで他のネットワークにいるVMから同じことやったらどうなるか？」→これでスピードが出るなら、各サービスでgo-apt-cacher使うようにしたら、どうだろう？という提案になるかも。&lt;/p&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/10/01/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Sun, 01 Oct 2017 14:39:09 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/10/01/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/876227&#34;&gt;libmojolicious-plugin-assetpack-perlの更新をアップロード&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.debian.org/mirror/ftpmirror&#34;&gt;ftpsyncスクリプト&lt;/a&gt;が新しくなったよ、というメールをもらっていたので入れ替えた。&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/09/30/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Sat, 30 Sep 2017 22:18:59 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/09/30/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;体調を崩して諸々が進まず&amp;hellip;。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/pkg/libmojolicious-plugin-renderfile-perl&#34;&gt;libmojolicious-plugin-renderfile-perlの更新をアップロード&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;lintianでUNRELEASEDだったらWarning入れてくれないかな&amp;hellip;（ドジッた）&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;sphinx-intlをアップデートした上でバイナリパッケージ名をsphinx-intlにしてアップロード。&lt;/li&gt;
&lt;li&gt;一旦消えた&lt;a href=&#34;http://cutter.sourceforge.net&#34;&gt;cutter-testing-framework&lt;/a&gt;のDebianパッケージを復活させない？と打診だけ。&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/09/27/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Wed, 27 Sep 2017 22:43:43 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/09/27/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;&lt;a href=&#34;https://connpass.com/event/64845/&#34;&gt;さくらの夕べ「さくらのVPS ユーザーミートアップ」&lt;/a&gt;のLT枠に参加して&lt;a href=&#34;https://docs.google.com/presentation/d/1_L4a5eXeyYOh6v9VKcvZAg84d6Y8a5go2F8cmO2ATKo/&#34;&gt;debianミラーの宣伝&lt;/a&gt;をしてきました。&lt;/p&gt;
</description>
          </item>
        
      
    
  </channel>
</rss>
