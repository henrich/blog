<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Debian on Forget me not...</title>
    <link>https://henrich.github.io/blog/tags/debian/</link>
    <description>Recent content in Debian on Forget me not...</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-JP</language>
    <managingEditor>henrich@debian.org (Hideki Yamane)</managingEditor>
    <webMaster>henrich@debian.org (Hideki Yamane)</webMaster>
    <copyright>2015-  Hideki Yamane</copyright>
    <lastBuildDate>Fri, 01 Jan 2100 06:58:34 +0900</lastBuildDate>
    <atom:link href="/blog/tags/debian/" rel="self" type="application/rss+xml" />
    
      
        
          <item>
            <title>future work</title>
            <link>https://henrich.github.io/blog/2100/01/01/future-work/</link>
            <pubDate>Fri, 01 Jan 2100 06:58:34 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2100/01/01/future-work/</guid>
            <description>

&lt;h1 id=&#34;支援について&#34;&gt;支援について&lt;/h1&gt;

&lt;p&gt;henrich @ debian.org 宛に&lt;a href=&#34;http://amzn.to/2u7MfE5&#34;&gt;Amazonギフト券&lt;/a&gt;でのコントリビューションをお待ちしております :-)&lt;/p&gt;

&lt;h2 id=&#34;とりあえずのtodoリスト&#34;&gt;とりあえずのTodoリスト&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;debian-policyをSphinxに変換する&lt;/li&gt;
&lt;li&gt;webwmlリポジトリをcvsからgitに変換する。その際にはcommitしたユーザー情報を用意する&lt;/li&gt;
&lt;li&gt;openQAをビルドできるように、必要なツールをパッケージにする

&lt;ul&gt;
&lt;li&gt;Selenium::Remote::Driver &lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=839569&#34;&gt;Bug#839569&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=719557&#34;&gt;mecabパッケージのバグ修正&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lintian.debian.org/maintainer/pkg-fonts-devel@lists.alioth.debian.org.html&#34;&gt;pkg-fonts-devel&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;fontforgeパッケージの更新をどうするか&lt;/li&gt;
&lt;li&gt;afdkoをビルドできるように、必要なツールをパッケージにする&lt;/li&gt;
&lt;li&gt;ttf- パッケージを可能な限りdropする（現在55個）&lt;/li&gt;
&lt;li&gt;duplicate font fileをなくす&lt;/li&gt;
&lt;li&gt;octiconsをビルドできるように、必要なツールをパッケージにする (npmモジュールを160個弱debパッケージにする作業が必要&amp;hellip;)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;poppler-dataとxfonts-kappa20アップロードする&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/30/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Sun, 30 Jul 2017 09:57:32 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/30/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;今日のグルーミング&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;fonts-mikachan、deley-15 に放り込み。&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/859608&#34;&gt;fonts-f500&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/859609&#34;&gt;fonts-manchufont&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;何か作業しようと思っていたのだが、続きをすっかり忘れていたDebian PolicyのSphinx変換提案、どうやって作業していたのかを思い出したので&lt;a href=&#34;https://github.com/henrich/policydoc/tree/sed-raplacement/convert/scripts&#34;&gt;historyから5行ほどの手順&lt;/a&gt;を送りつけておいた。8/1にSprintがあるらしいので、そこで話題にしてくれるといいなぁ。とりあえずIRCチャンネルに接続だけしてログを取っておこう。&lt;/p&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/29/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Sat, 29 Jul 2017 00:37:27 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/29/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>

&lt;p&gt;昨日の gnome-todo の続き。&lt;/p&gt;

&lt;h2 id=&#34;lintian-warningを確認&#34;&gt;lintian warningを確認。&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;W: gnome-todo: gir-section-not-libdevel usr/share/gir-1.0/Gtd-1.0.gir gnome
N: 
N:    GObject-Introspection XML files (/usr/share/gir-1.0/Foo-23.gir) must be
N:    made available in a development package in the libdevel section of the
N:    archive. This is normally the same libfoo-dev package that contains
N:    other development files.
N:    
N:    Refer to /usr/share/doc/gobject-introspection/policy.txt for details.
N:    
N:    Severity: normal, Certainty: certain
N:    
N:    Check: gir, Type: binary, source
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;/usr/share/gir-1.0/Gtd-1.0.gir&lt;/code&gt; が含まれてるのに &lt;code&gt;section: gnome&lt;/code&gt; なgnome-todoパッケージはあかんやろ、と。これはlibdevelなlibgnome-todo-devを作って放り込め、ということだな。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;W: gnome-todo: typelib-section-not-introspection usr/lib/x86_64-linux-gnu/girepository-1.0/Gtd-1.0.typelib gnome
N: 
N:    GObject-Introspection binary typelibs (Foo-23.typelib) should be made
N:    available in a GObject-Introspection package in the introspection
N:    section of the archive, normally named gir1.2-foo-23.
N:    
N:    Refer to /usr/share/doc/gobject-introspection/policy.txt for details.
N:    
N:    Severity: normal, Certainty: certain
N:    
N:    Check: gir, Type: binary, source
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;これも &lt;code&gt;section: introspection&lt;/code&gt; なパッケージを作れ、と。どういう名前で作ればいいのかは他のを参考にしよう&amp;hellip;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;W: gnome-todo: gir-missing-typelib-dependency usr/share/gir-1.0/Gtd-1.0.gir gir1.2-gtd-1.0
N: 
N:    Development packages that contain GObject-Introspection XML files
N:    (/usr/share/gir-1.0/Foo-23.gir) must depend on the package containing
N:    the corresponding binary typelib, which is conventionally named
N:    gir1.2-foo-23. The dependency must be strictly versioned (for example
N:    gir1.2-foo-23 (= ${binary:Version}) when using debhelper).
N:    
N:    Please ignore and override this tag if the typelib is shipped in a
N:    package whose name does not match the typelib&#39;s machine-readable name,
N:    and the development package correctly depends on that package instead.
N:    For example, gir1.2-glib-2.0 is named for the GLib-2.0 typelib, but also
N:    contains the GObject-2.0 and Gio-2.0 typelibs, so it is correct that
N:    libglib2.0-dev depends on gir1.2-glib-2.0 but not on gir1.2-gobject-2.0
N:    or gir1.2-gio-2.0.
N:    
N:    Refer to /usr/share/doc/gobject-introspection/policy.txt for details.
N:    
N:    Severity: normal, Certainty: possible
N:    
N:    Check: gir, Type: binary, source
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;先程の &lt;code&gt;section: introspection&lt;/code&gt; なパッケージは&lt;code&gt;gir1.2-gtd-1.0&lt;/code&gt;でいいのか。で、それに対する依存関係を記述せよ、と。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;W: gnome-todo: typelib-package-name-does-not-match usr/lib/x86_64-linux-gnu/girepository-1.0/Gtd-1.0.typelib gir1.2-gtd-1.0
N: 
N:    GObject-Introspection binary typelibs (Foo-23.typelib) should normally
N:    be made available in a package named gir1.2-foo-23.
N:    
N:    Please ignore and override this tag if the typelib is deliberately
N:    shipped in a package whose name does not match the typelib&#39;s
N:    machine-readable name. For example, gir1.2-glib-2.0 is named for the
N:    GLib-2.0 typelib, but also contains the GObject-2.0 and Gio-2.0
N:    typelibs; this is unconventional, but is allowed.
N:    
N:    Refer to /usr/share/doc/gobject-introspection/policy.txt for details.
N:    
N:    Severity: normal, Certainty: possible
N:    
N:    Check: gir, Type: binary, source
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;gir1.2-gtd-1.0&lt;/code&gt; にtypelibを含めろ、と。&lt;/p&gt;

&lt;h2 id=&#34;他のパッケージを参考に&#34;&gt;他のパッケージを参考に&lt;/h2&gt;

&lt;p&gt;正直lintianの指示は概念だけなので、実際にどう対処するかは既存パッケージを真似るのが手っ取り早い。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;apt-cache pkgnames gir1.2-&lt;/code&gt; して適当なパッケージを探し、&lt;/li&gt;
&lt;li&gt;&lt;code&gt;apt source foobar&lt;/code&gt; してソースを眺めて記述を確認し、&lt;/li&gt;
&lt;li&gt;&lt;code&gt;debian/control.in&lt;/code&gt; にパッケージを追加。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;debian/*.install&lt;/code&gt; を追加してどのファイルをどのパッケージに入れるかを決める&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ここまででパッケージがビルドできるようになったが、piupartsで既存パッケージからのアップグレードが失敗するんじゃないかな〜と思って眠い頭で実行したらやっぱり失敗した。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;   /tmp/apt-dpkg-install-g8TuRA/0-gir1.2-gtd-1.0_3.24.2-3_amd64.deb
   /tmp/apt-dpkg-install-g8TuRA/1-gnome-todo-common_3.24.2-3_all.deb
   /tmp/apt-dpkg-install-g8TuRA/2-libgnome-todo_3.24.2-3_amd64.deb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ふむ、前のgnome-todoと名前は違うのに同じファイルがあるから、ぶつかっちゃうよね。&lt;code&gt;Conflicts:&lt;/code&gt; か &lt;code&gt;Breakes:&lt;/code&gt; の記述が必要だよな。多分 &lt;code&gt;Breakes:&lt;/code&gt; が適当。これが完全にreplaceな場合は &lt;code&gt;Replaces:&lt;/code&gt; を記述するのだけど、今回は部分的だからそれはなし。で、記述してもう一度piupartsを通す&amp;hellip;通った。今回はかなり変更が大きいのでexperimentalにアップロードするようにしておく。&lt;a href=&#34;https://ftp-master.debian.org/new.html&#34;&gt;NEW queue&lt;/a&gt;で数日待つことになるだろう。&lt;/p&gt;

&lt;h2 id=&#34;作業結果&#34;&gt;作業結果&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;diff -Nru gnome-todo-3.24.2/debian/changelog gnome-todo-3.24.2/debian/changelog
--- gnome-todo-3.24.2/debian/changelog  2017-06-18 19:47:46.000000000 +0900
+++ gnome-todo-3.24.2/debian/changelog  2017-07-28 22:52:28.000000000 +0900
@@ -1,3 +1,12 @@
+gnome-todo (3.24.2-3) experimental; urgency=medium
+
+  * debian/patches
+    - add 0001-deal-with-appstream-metadata-in-legacy-location.patch 
+  * debian/{control.in,*.install}
+    - split gnome-todo package to several packages
+
+ -- Hideki Yamane &amp;lt;henrich@debian.org&amp;gt;  Fri, 28 Jul 2017 22:52:28 +0900
+
 gnome-todo (3.24.2-2) unstable; urgency=medium
 
   * Upload to unstable
diff -Nru gnome-todo-3.24.2/debian/control gnome-todo-3.24.2/debian/control
--- gnome-todo-3.24.2/debian/control    2017-06-18 19:47:46.000000000 +0900
+++ gnome-todo-3.24.2/debian/control    2017-07-28 22:52:28.000000000 +0900
@@ -6,7 +6,7 @@
 Section: gnome
 Priority: optional
 Maintainer: Debian GNOME Maintainers &amp;lt;pkg-gnome-maintainers@lists.alioth.debian.org&amp;gt;
-Uploaders: Andreas Henriksson &amp;lt;andreas@fatal.se&amp;gt;, Hideki Yamane &amp;lt;henrich@debian.org&amp;gt;, Michael Biebl &amp;lt;biebl@debian.org&amp;gt;
+Uploaders: Andreas Henriksson &amp;lt;andreas@fatal.se&amp;gt;, Hideki Yamane &amp;lt;henrich@debian.org&amp;gt;
 Build-Depends: debhelper (&amp;gt;= 10),
                autoconf-archive,
                gnome-pkg-tools,
@@ -30,6 +30,8 @@
 Architecture: any
 Depends: ${shlibs:Depends},
          ${misc:Depends},
+         gnome-todo-common,
+         libgnome-todo (= ${binary:Version}),
          evolution-data-server (&amp;gt;= 3.17.1),
          gsettings-desktop-schemas
 Description: minimalistic personal task manager designed to fit GNOME desktop
@@ -37,3 +39,56 @@
  the GNOME desktop. Designed from ground up to seamlessly integrate with
  the GNOME desktop environment, To Do enables you to be as productive as
  you want.
+
+Package: gnome-todo-common
+Architecture: all
+Depends: ${misc:Depends},
+Breaks: gnome-todo (&amp;lt;&amp;lt; 3.24.2-3)
+Description: common files for GNOME To Do
+ Library that provides GObject-based interface of GNOME To Do, simplistic
+ personal task manager designed to perfectly fit the GNOME desktop.
+ .
+ This package contains common files.
+
+Package: libgnome-todo
+Section: libs
+Architecture: any
+Depends: ${shlibs:Depends},
+         ${misc:Depends},
+Breaks: gnome-todo (&amp;lt;&amp;lt; 3.24.2-3)
+Description: library data for GNOME To Do
+ Library that provides GObject-based interface of GNOME To Do, simplistic
+ personal task manager designed to perfectly fit the GNOME desktop.
+ .
+ This package contains the library files.
+
+Package: libgnome-todo-dev
+Section: libdevel
+Architecture: any
+Depends: ${shlibs:Depends},
+         ${misc:Depends},
+         gir1.2-gtd-1.0 (= ${binary:Version}),
+Breaks: gnome-todo (&amp;lt;&amp;lt; 3.24.2-3)
+Description: development library data for GNOME To Do
+ Library that provides GObject-based interface of GNOME To Do, simplistic
+ personal task manager designed to perfectly fit the GNOME desktop.
+ .
+ This package contains the library development files.
+
+Package: gir1.2-gtd-1.0
+Section: introspection
+Architecture: any
+Depends: ${gir:Depends},
+         ${shlibs:Depends},
+         ${misc:Depends},
+Breaks: gnome-todo (&amp;lt;&amp;lt; 3.24.2-3)
+Description: GObject introspection data for GNOME To Do
+ GNOME To Do is a simplistic personal task manager designed to perfectly fit
+ the GNOME desktop. Designed from ground up to seamlessly integrate with
+ the GNOME desktop environment, To Do enables you to be as productive as
+ you want.
+ .
+ This package contains introspection data for GNOME To Do.
+ .
+ It can be used by packages using the GIRepository format to generate
+ dynamic bindings.
diff -Nru gnome-todo-3.24.2/debian/control.in gnome-todo-3.24.2/debian/control.in
--- gnome-todo-3.24.2/debian/control.in 2017-06-18 19:47:46.000000000 +0900
+++ gnome-todo-3.24.2/debian/control.in 2017-07-28 22:52:28.000000000 +0900
@@ -26,6 +26,8 @@
 Architecture: any
 Depends: ${shlibs:Depends},
          ${misc:Depends},
+         gnome-todo-common,
+         libgnome-todo (= ${binary:Version}),
          evolution-data-server (&amp;gt;= 3.17.1),
          gsettings-desktop-schemas
 Description: minimalistic personal task manager designed to fit GNOME desktop
@@ -33,3 +35,56 @@
  the GNOME desktop. Designed from ground up to seamlessly integrate with
  the GNOME desktop environment, To Do enables you to be as productive as
  you want.
+
+Package: gnome-todo-common
+Architecture: all
+Depends: ${misc:Depends},
+Breaks: gnome-todo (&amp;lt;&amp;lt; 3.24.2-3)
+Description: common files for GNOME To Do
+ Library that provides GObject-based interface of GNOME To Do, simplistic
+ personal task manager designed to perfectly fit the GNOME desktop.
+ .
+ This package contains common files.
+
+Package: libgnome-todo
+Section: libs
+Architecture: any
+Depends: ${shlibs:Depends},
+         ${misc:Depends},
+Breaks: gnome-todo (&amp;lt;&amp;lt; 3.24.2-3)
+Description: library data for GNOME To Do
+ Library that provides GObject-based interface of GNOME To Do, simplistic
+ personal task manager designed to perfectly fit the GNOME desktop.
+ .
+ This package contains the library files.
+
+Package: libgnome-todo-dev
+Section: libdevel
+Architecture: any
+Depends: ${shlibs:Depends},
+         ${misc:Depends},
+         gir1.2-gtd-1.0 (= ${binary:Version}),
+Breaks: gnome-todo (&amp;lt;&amp;lt; 3.24.2-3)
+Description: development library data for GNOME To Do
+ Library that provides GObject-based interface of GNOME To Do, simplistic
+ personal task manager designed to perfectly fit the GNOME desktop.
+ .
+ This package contains the library development files.
+
+Package: gir1.2-gtd-1.0
+Section: introspection
+Architecture: any
+Depends: ${gir:Depends},
+         ${shlibs:Depends},
+         ${misc:Depends},
+Breaks: gnome-todo (&amp;lt;&amp;lt; 3.24.2-3)
+Description: GObject introspection data for GNOME To Do
+ GNOME To Do is a simplistic personal task manager designed to perfectly fit
+ the GNOME desktop. Designed from ground up to seamlessly integrate with
+ the GNOME desktop environment, To Do enables you to be as productive as
+ you want.
+ .
+ This package contains introspection data for GNOME To Do.
+ .
+ It can be used by packages using the GIRepository format to generate
+ dynamic bindings.
diff -Nru gnome-todo-3.24.2/debian/gir1.2-gtd-1.0.install gnome-todo-3.24.2/debian/gir1.2-gtd-1.0.install
--- gnome-todo-3.24.2/debian/gir1.2-gtd-1.0.install 1970-01-01 09:00:00.000000000 +0900
+++ gnome-todo-3.24.2/debian/gir1.2-gtd-1.0.install 2017-07-28 22:52:28.000000000 +0900
@@ -0,0 +1 @@
+usr/lib/*/girepository-1.0/*.typelib
diff -Nru gnome-todo-3.24.2/debian/gnome-todo-common.install gnome-todo-3.24.2/debian/gnome-todo-common.install
--- gnome-todo-3.24.2/debian/gnome-todo-common.install  1970-01-01 09:00:00.000000000 +0900
+++ gnome-todo-3.24.2/debian/gnome-todo-common.install  2017-07-28 22:52:28.000000000 +0900
@@ -0,0 +1,6 @@
+usr/share/icons/
+usr/share/locale/
+usr/share/gnome-todo/
+usr/share/metainfo/
+usr/share/dbus-1/
+usr/share/glib-2.0/
diff -Nru gnome-todo-3.24.2/debian/gnome-todo.install gnome-todo-3.24.2/debian/gnome-todo.install
--- gnome-todo-3.24.2/debian/gnome-todo.install 1970-01-01 09:00:00.000000000 +0900
+++ gnome-todo-3.24.2/debian/gnome-todo.install 2017-07-28 22:52:28.000000000 +0900
@@ -0,0 +1,2 @@
+usr/bin/gnome-todo
+usr/share/applications/
diff -Nru gnome-todo-3.24.2/debian/libgnome-todo-dev.install gnome-todo-3.24.2/debian/libgnome-todo-dev.install
--- gnome-todo-3.24.2/debian/libgnome-todo-dev.install  1970-01-01 09:00:00.000000000 +0900
+++ gnome-todo-3.24.2/debian/libgnome-todo-dev.install  2017-07-28 22:52:28.000000000 +0900
@@ -0,0 +1,3 @@
+usr/include/gnome-todo/
+usr/lib/*/pkgconfig/gnome-todo.pc
+usr/share/gir-*/Gtd-*.gir
diff -Nru gnome-todo-3.24.2/debian/libgnome-todo.install gnome-todo-3.24.2/debian/libgnome-todo.install
--- gnome-todo-3.24.2/debian/libgnome-todo.install  1970-01-01 09:00:00.000000000 +0900
+++ gnome-todo-3.24.2/debian/libgnome-todo.install  2017-07-28 22:52:28.000000000 +0900
@@ -0,0 +1 @@
+usr/lib/*/gnome-todo/
diff -Nru gnome-todo-3.24.2/debian/patches/0001-deal-with-appstream-metadata-in-legacy-location.patch gnome-todo-3.24.2/debian/patches/0001-deal-with-appstream-metadata-in-legacy-location.patch
--- gnome-todo-3.24.2/debian/patches/0001-deal-with-appstream-metadata-in-legacy-location.patch 1970-01-01 09:00:00.000000000 +0900
+++ gnome-todo-3.24.2/debian/patches/0001-deal-with-appstream-metadata-in-legacy-location.patch 2017-07-28 22:52:28.000000000 +0900
@@ -0,0 +1,25 @@
+From: Hideki Yamane &amp;lt;henrich@debian.org&amp;gt;
+Date: Fri, 28 Jul 2017 22:51:23 +0900
+Subject: deal with appstream-metadata-in-legacy-location
+
+not /usr/share/appdata/ but /usr/share/metainfo/
+
+Perhaps this patch will be not necessary when build system would move to
+new one.
+---
+ data/Makefile.am | 2 +-
+ 1 file changed, 1 insertion(+), 1 deletion(-)
+
+diff --git a/data/Makefile.am b/data/Makefile.am
+index 827ee36..af44715 100644
+--- a/data/Makefile.am
++++ b/data/Makefile.am
+@@ -13,7 +13,7 @@ autostart_DATA = org.gnome.Todo.Autostart.desktop
+ %.desktop: %.desktop.in
+   $(AM_V_GEN) $(MSGFMT) --desktop --template $&amp;lt; -d $(top_srcdir)/po -o $@
+ 
+-appdatadir = $(datadir)/appdata
++appdatadir = $(datadir)/metainfo
+ appdata_DATA = $(appdata_in_files:.xml.in=.xml)
+ appdata_in_files = $(srcdir)/appdata/org.gnome.Todo.appdata.xml.in
+ 
diff -Nru gnome-todo-3.24.2/debian/patches/series gnome-todo-3.24.2/debian/patches/series
--- gnome-todo-3.24.2/debian/patches/series 1970-01-01 09:00:00.000000000 +0900
+++ gnome-todo-3.24.2/debian/patches/series 2017-07-28 22:52:28.000000000 +0900
@@ -0,0 +1 @@
+0001-deal-with-appstream-metadata-in-legacy-location.patch
diff -Nru gnome-todo-3.24.2/debian/rules gnome-todo-3.24.2/debian/rules
--- gnome-todo-3.24.2/debian/rules  2017-06-18 19:47:46.000000000 +0900
+++ gnome-todo-3.24.2/debian/rules  2017-07-28 22:52:28.000000000 +0900
@@ -28,4 +28,4 @@
 override_dh_auto_install:
    dh_auto_install
    # get rid of &amp;quot;non-empty-dependency_libs-in-la-file&amp;quot;
-   find $(CURDIR)/debian/gnome-todo -name *.la -delete
+   find $(CURDIR)/debian/ -name *.la -delete
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;今日のグルーミング&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/859497&#34;&gt;fonts-bpg-georgian&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;debian/copyrightのconvertの際にcopyright holderの記述が website と異なっていて？？？となって調べて回った。その甲斐あって整理できた＆一部フォントが違うライセンスだということもわかったので良かった。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/28/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Fri, 28 Jul 2017 09:25:08 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/28/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;今日のグルーミング作業&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/859085&#34;&gt;fonts-ipafont-nonfree&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/859086&#34;&gt;fonts-ipafont-nonfree-jisx0208&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/859145&#34;&gt;jcodings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;gnome-todo をちょっとだけ。

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://lintian.debian.org/tags/appstream-metadata-in-legacy-location.html&#34;&gt;appstream-metadata-in-legacy-location&lt;/a&gt; は grep で検索して &lt;code&gt;gbp pq import&lt;/code&gt; して Makefile.am を少し書き換え、git commit してパッチを作って対応。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/27/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Thu, 27 Jul 2017 09:25:08 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/27/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;今日のグルーミング&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858988&#34;&gt;yudit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/859063&#34;&gt;fonts-tomsontalks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/859070&#34;&gt;fonts-kacst&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/859077&#34;&gt;nailgun&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;fonts-bpg-georgian を見てみたら、upstreamがBoxに色々ソースを置いているようだ、が読めなくて何が最善なのかが全くわからん&amp;hellip;&lt;/li&gt;
&lt;li&gt;fonts-manchufont は途中まで&amp;hellip;。&lt;/li&gt;
&lt;li&gt;fonts-wqy-zenhei は途中まで&amp;hellip;。&lt;/li&gt;
&lt;li&gt;fonts-mikachan は途中まで&amp;hellip;で、&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=839677&#34;&gt;アップロード予告&lt;/a&gt;だけしておく。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;yudit は以下をなんとかしたいところではある&amp;hellip;とりあえずtypoは直した。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;I: yudit: spelling-error-in-binary usr/bin/uniprint pres press
I: yudit: spelling-error-in-binary usr/bin/yudit preceed precede
I: yudit: spelling-error-in-binary usr/bin/yudit pres press
I: yudit: spelling-error-in-manpage usr/share/man/man1/uniconv.1.gz enconding encoding
I: yudit: spelling-error-in-manpage usr/share/man/man1/uniconv.1.gz enconding encoding
I: yudit: spelling-error-in-manpage usr/share/man/man1/uniconv.1.gz recommened recommended
I: yudit: desktop-entry-lacks-keywords-entry usr/share/applications/yudit.desktop
I: yudit-common: font-in-non-font-package usr/share/yudit/fonts/yudit.ttf
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;mplus-fontsのCVS-&amp;gt;Gitリポジトリ変換を&lt;a href=&#34;https://osdn.net/ticket/browse.php?group_id=1&amp;amp;tid=37404&#34;&gt;依頼&lt;/a&gt;しておく。&lt;/p&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/26/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Wed, 26 Jul 2017 21:33:41 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/26/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;今日のグルーミング作業&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858925&#34;&gt;fonts-mmceder&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;DebConf17の申し込み確認を見ていたら、到着日を1日勘違いしていたのに気づいた。危ない&amp;hellip;とりあえず「1日早められる？」と問い合わせてみる。→無事調整された。&lt;/p&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/25/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Tue, 25 Jul 2017 21:46:08 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/25/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;今日のグルーミング作業。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;grcompiler&amp;hellip;を見てみた。

&lt;ul&gt;
&lt;li&gt;upstreamがGitHubに移動していて新しいバージョンが出ていたのでimportして作業したのだが、testcaseがコケる&amp;hellip;gitのmasterから取ってきてもコケる&amp;hellip;これは一体？&lt;/li&gt;
&lt;li&gt;upstreamが&lt;a href=&#34;https://github.com/silnrsi/grcompiler/tree/master/debian&#34;&gt;debianディレクトリ追加してる&amp;hellip;&lt;/a&gt;困るなぁ。しかもoverride_dh_autotestでoverrideしてtest実行しないようにしてる&amp;hellip;なんだこりゃ。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858733&#34;&gt;fonts-vlgothic&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858736&#34;&gt;fonts-kacst-one&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858737&#34;&gt;fonts-motoya-l-cedar&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858740&#34;&gt;fonts-motoya-l-maruberi&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;モトヤLマルベリ3・Lシーダ3が&lt;a href=&#34;https://github.com/android/platform_frameworks_base/commit/cee5f2023b4e33c8f499e94a3d3cdb5e99d3a325#diff-11e31d35b6aedf3dbd0f80d77a74cd67&#34;&gt;Androidのリポジトリから消えていた&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;mplusフォントのリポジトリ権限もらったので、bitmapの方はgitにしようかなーと思ったのだが、CVSの生データ持ってこないと変換できないよね&amp;hellip;。shellアクセスできる範囲には無いっぽいし。&lt;a href=&#34;https://osdn.net/cvs/view/mplus-fonts/&#34;&gt;ダウンロード&lt;/a&gt;でいけるのかな？&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ zcat /usr/share/doc/cvs2svn/examples/cvs2git-example.options.gz &amp;gt; ./cvs2git.options
$ vi cvs2git.options
$ cvs2git --options=./cvs2git.options
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;などとやってみたが、必要な情報がtarballの中にはないようだ。&lt;a href=&#34;https://osdn.net/docs-ja/SCM_Migration&#34;&gt;サポートリクエスト&lt;/a&gt;を出して欲しい、ということらしい。あとで問い合わせよう。&lt;/p&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/24/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Mon, 24 Jul 2017 21:45:44 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/24/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;今日のグルーミング作業&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858508&#34;&gt;fonts-kacst-one&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;アップロードしてから「あ、ttf-パッケージがあった&amp;hellip;落とし忘れ&amp;hellip;」と気付く。あとでもう一度アップロードしよう。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858510&#34;&gt;fonts-takao&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;pristine-tarブランチにコミットし忘れてたのが発覚。&lt;code&gt;apt source fonts-takao&lt;/code&gt;と&lt;a href=&#34;http://snapshot.debian.org&#34;&gt;snapshot.debian.org&lt;/a&gt;からダウンロードして、&lt;code&gt;gbp pristine-tar commit&lt;/code&gt;で追加。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>digging into gpgme on hurd</title>
            <link>https://henrich.github.io/blog/2017/07/24/digging-into-gpgme-on-hurd/</link>
            <pubDate>Mon, 24 Jul 2017 00:11:24 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/24/digging-into-gpgme-on-hurd/</guid>
            <description>&lt;p&gt;gpgme1.0 on Hurdの続き。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Running tests using /usr/bin/python2 (2.7)...
PASS: initial.py
PASS: t-wrapper.py
PASS: t-callbacks.py
FAIL: t-data.py
FAIL: t-encrypt.py
FAIL: t-encrypt-sym.py
FAIL: t-encrypt-sign.py
FAIL: t-sign.py
FAIL: t-signers.py
FAIL: t-decrypt.py
FAIL: t-verify.py
FAIL: t-decrypt-verify.py
FAIL: t-sig-notation.py
PASS: t-export.py
PASS: t-import.py
PASS: t-trustlist.py
PASS: t-edit.py
PASS: t-keylist.py
PASS: t-keylist-from-data.py
PASS: t-wait.py
PASS: t-encrypt-large.py
FAIL: t-file-name.py
PASS: t-idiomatic.py
PASS: t-protocol-assuan.py
FAIL: t-quick-key-creation.py
FAIL: t-quick-subkey-creation.py
PASS: t-quick-key-manipulation.py
PASS: t-quick-key-signing.py
PASS: final.py
Running tests using /usr/bin/python3 (3.5)...          
PASS: initial.py                                       
PASS: t-wrapper.py                                     
PASS: t-callbacks.py                                   
FAIL: t-data.py                                        
FAIL: t-encrypt.py                                     
FAIL: t-encrypt-sym.py                                 
FAIL: t-encrypt-sign.py                                
FAIL: t-sign.py                                        
FAIL: t-signers.py                                     
FAIL: t-decrypt.py
FAIL: t-verify.py
FAIL: t-decrypt-verify.py
FAIL: t-sig-notation.py
PASS: t-export.py
PASS: t-import.py
PASS: t-trustlist.py
PASS: t-edit.py
PASS: t-keylist.py
PASS: t-keylist-from-data.py
PASS: t-wait.py
PASS: t-encrypt-large.py
FAIL: t-file-name.py
FAIL: t-idiomatic.py
PASS: t-protocol-assuan.py
FAIL: t-quick-key-creation.py
FAIL: t-quick-subkey-creation.py
PASS: t-quick-key-manipulation.py
PASS: t-quick-key-signing.py
PASS: final.py
58 tests run, 31 succeeded, 27 failed, 0 skipped.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;めっちゃコケる。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;GNUPGHOME=/root/gpgme1.0-1.9.0/lang/python/tests LC_ALL=C GPG_AGENT_INFO= top_srcdir=../../.. srcdir=. LD_LIBRARY_PATH=&amp;quot;../../../src/.libs:&amp;quot; /usr/bin/python2 ./run-tests.py \
  --interpreters=&amp;quot;/usr/bin/python2 /usr/bin/python3&amp;quot; --srcdir=.  \
  initial.py t-wrapper.py t-callbacks.py t-data.py t-encrypt.py t-encrypt-sym.py t-encrypt-sign.py t-sign.py t-signers.py t-decrypt.py t-verify.py t-decrypt-verify.py t-sig-notation.py t-export.py t-import.py t-trustlist.py t-edit.py t-keylist.py t-keylist-from-data.py t-wait.py t-encrypt-large.py t-file-name.py t-idiomatic.py t-protocol-assuan.py t-quick-key-creation.py t-quick-subkey-creation.py t-quick-key-manipulation.py t-quick-key-signing.py final.py
&lt;/code&gt;&lt;/pre&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/23/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Sun, 23 Jul 2017 21:37:26 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/23/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;今日のグルーミング作業&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858132&#34;&gt;fonts-breip&lt;/a&gt;。メンテナが引退してるからUploadersから削除して、というバグ登録を見かけて作業したのだけど、結構大掛かりになった。&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;  * Team upload.                                       
  * add epoch to version since upstream releases it as 0.5.1 and previous
    packaging introduced unnecessary non-upstream files
  * debian/control
    - remove Mauro Lizaur &amp;lt;mauro@debian.org&amp;gt; from Uploaders, thank you for
      your work! (Closes: #869339)                     
    - add myself to Uploaders.                         
    - update Vcs-* and use https                       
    - set Standards-Version: 4.0.0                     
    - set Build-Depends: debhelper (&amp;gt;= 10)
  * debian/compat
    - set 10
  * add debian/watch
  * add debian/gbp.conf
  * debian/copyright
    - convert to copyright format 1.0
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;ul&gt;
&lt;li&gt;ttf-adfとfonts-adfかぶってるよ、問題。
&lt;a href=&#34;https://bugs.debian.org/869346&#34;&gt;Bug#869346&lt;/a&gt;をみて、古いttf-adfを削除依頼するか&amp;hellip;と思ったのだけど、念の為ソースパッケージを落としている際、どうもorig.tar.gzのサイズが大きく違うのに気づいた。&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;$ ls -al fonts-adf_0.20110505.orig.tar.gz ttf-adf_0.20090423.orig.tar.gz 
-rw-r--r-- 1 henrich henrich  9294398 10月 20  2016 fonts-adf_0.20110505.orig.tar.gz
-rw-r--r-- 1 henrich henrich 15055654  5月  7  2009 ttf-adf_0.20090423.orig.tar.gz
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;これは一体？&amp;hellip;どうやら&lt;a href=&#34;http://arkandis.tuxfamily.org/adffonts.html&#34;&gt;複数のupstream source&lt;/a&gt;をまとめてぶち込んでいるようだ。あんまり筋が良くないなぁ。これ、分割してやったほうがいいと思う。&lt;/p&gt;

&lt;hr /&gt;

&lt;ul&gt;
&lt;li&gt;昨日のSylpheed on HurdがPerl 5.26 transitionが落ち着いて関連パッケージがインストールできるようになったのでビルドを試す。&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;# ./configure --build=i686-gnu --prefix=/usr --includedir=${prefix}/include --mandir=${prefix}/share/man --infodir=${prefix}/share/info --sysconfdir=/etc --localstatedir=/var --disable-silent-rules --libdir=${prefix}/lib/i386-gnu --libexecdir=${prefix}/lib/i386-gnu --disable-maintainer-mode --disable-dependency-tracking --enable-static --enable-languages=python cpp qt --infodir=/usr/share/info
(snip)
checking build system type... i686-pc-gnu
checking host system type... Invalid configuration `cpp&#39;: machine `cpp&#39; not recognized
configure: error: /bin/bash build-aux/config.sub cpp failed
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;あら？ 試しにconfigure の引数に &lt;code&gt;--host=i686-gnu&lt;/code&gt; を指定したら通るようにはなったが、これが自動で引っ張ってこられないのが問題かな&amp;hellip;と思ったら、どうやら &lt;code&gt;--enable-languages=python cpp qt&lt;/code&gt; が問題でおかしな値を引っ張ってきているようだ。これを除去したらとりあえずconfigure通ってビルドできるようになった。ただ、testcaseがコケるのでパッケージは生成できていない。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;PASS: t-thread1
PASS: t-thread-keylist
t-thread-keylist-verify.c:92: GPGME: Too many open files
FAIL: t-thread-keylist-verify
stopping gpg-agent 
PASS: final.test
======================================
1 of 26 tests failed
Please report to http://bugs.gnupg.org
======================================
Makefile:852: recipe for target &#39;check-TESTS&#39; failed
make: *** [check-TESTS] Error 1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;これはGNUPGのサイトでアカウント作って&lt;a href=&#34;https://dev.gnupg.org/T3294&#34;&gt;報告した&lt;/a&gt;→どうやら新しいバージョン1.9.0がupstreamでは出ているようだったのでこちらで試したら上記のtest caseは通るようになっていたので早速close。ただ、他のテストが通らない&amp;hellip;。&lt;/p&gt;

&lt;p&gt;configure.acみると&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;available_languages=&amp;quot;cl cpp python python2 python3 qt&amp;quot;
default_languages=&amp;quot;cl cpp python qt&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;なので、&lt;code&gt;--enable-languages=python cpp qt&lt;/code&gt; が本当に必要かどうか、他のArchでも削除して問題ないことを確認したら、とりあえずこれを外すだけでもしたい。&lt;/p&gt;

&lt;hr /&gt;

&lt;ul&gt;
&lt;li&gt;9.1が出ていたので&lt;a href=&#34;http://www.debian.or.jp&#34;&gt;debian.or.jp&lt;/a&gt;の情報を更新。&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/22/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Sat, 22 Jul 2017 06:46:41 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/22/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;今日のグルーミング作業。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858089&#34;&gt;vmdk-stream-converter&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;LaunchPadで&lt;a href=&#34;https://bugs.launchpad.net/ubuntu/+source/vmdk-stream-converter/+bug/1700995&#34;&gt;Bug登録されてた&lt;/a&gt;から何かね？と思ったらMIR&amp;hellip;まじかよ。「debhelper compatibility levelが8でちょっと古い」とか書いてあったから「10にしたわ」とコメント残しておく。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858088&#34;&gt;psphere&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858092&#34;&gt;fonts-kanjistrokeorders&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858099&#34;&gt;fonts-komatuna&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858098&#34;&gt;fonts-ipafont&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/858130&#34;&gt;svn-workbench&lt;/a&gt;。&lt;a href=&#34;https://lintian.debian.org/tags/desktop-entry-lacks-keywords-entry.html&#34;&gt;desktopファイルにkeywordが足りない&lt;/a&gt;ので、追加しておく。GNOME Shellのキーワード入力でsubversion/svnでsvn-workbenchが出てくるようになった。&lt;/li&gt;
&lt;li&gt;fonts-monapo は copyright format 1.0にしている最中でスクリプトのライセンスが不明瞭だったので問い合わせ。→PDだと回答をいただく。&lt;a href=&#34;https://www.debian.org/doc/packaging-manuals/copyright-format/1.0/#license-short-name&#34;&gt;short-name&lt;/a&gt;では「public-domain」とハイフン入れるのね。→&lt;a href=&#34;https://tracker.debian.org/news/858133&#34;&gt;アップロードした&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;珍しくMLでの質問に答えた。debian/watchファイルはversion4になってからバージョン名とアーカイブの種類をそれぞれ&lt;code&gt;@ANY_VERSION@&lt;/code&gt;・&lt;code&gt;@ARCHIVE_EXT@&lt;/code&gt; と書けるのでそれを使うと良いよ、という話をした。&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;sylpheedのビルドが全部揃ってないのが気になったので調査。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sylpheed build-depends on missing:
- libgpgme-dev:hurd-i386 (&amp;gt;= 1.0.0)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;これか。&lt;a href=&#34;https://buildd.debian.org/status/package.php?p=gpgme1.0&amp;amp;suite=sid&#34;&gt;https://buildd.debian.org/status/package.php?p=gpgme1.0&amp;amp;suite=sid&lt;/a&gt; を見るとoverride_dh_auto_configureでコケてビルドが失敗している&amp;hellip;って、それならビルドしなおしでもいける可能性があるんじゃないか？ということで立ち上げっぱなしのhurdのVBoxイメージで動かして調査しよう。。。としたらapt updateで止まってしまうという謎の現象。&lt;a href=&#34;https://people.debian.org/~sthibault/hurd-i386/&#34;&gt;qemuイメージの配布&lt;/a&gt;で新しいイメージが出てたのでそれをベースにやり直してみよう。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ VBoxManage convertfromraw debian-hurd-20170613.img debian-hurd-converted-20170613.vdi --format VDI
Converting from raw image file=&amp;quot;debian-hurd-20170613.img&amp;quot; to file=&amp;quot;debian-hurd-converted-20170613.vdi&amp;quot;... 
Creating dynamic image with size 5243928576 bytes (5001MB)...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;で、起動しなおしたらmodprobe vboxdrvしろ、とでてくる。あれ？VBoxが更新されたせいかな、と思って&lt;code&gt;sudo modprobe vboxdrv&lt;/code&gt;してVBoxを立ち上げなおしてみても同じエラー。&amp;hellip;あ、kernelが変わったせい？ &lt;code&gt;sudo dpkg-reconfigure virtualbox-dkms&lt;/code&gt;してみる。動いた。…がやっぱりapt updateが止まる現象は変わらず。間を置いて再起動したら動くようになった&amp;hellip;という謎の対処療法的な解決の仕方でスッキリしない。&lt;/p&gt;

&lt;p&gt;あれ？パッケージの取得場所がdeb.debian.orgからsnapshot.debian.orgとdebian-portsに変わってる？？？不便だなぁ＞Hurdイメージ&lt;/p&gt;

&lt;p&gt;ゴソゴソと作業するが、Perl 5.26 transitionの影響でパッケージの依存関係が一時的に破損しているので諦め。後日に回そう&amp;hellip;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;The following packages have unmet dependencies:
 texinfo : Depends: perlapi-5.24.1 but it is not installable
           Depends: libxml-libxml-perl but it is not going to be installed
E: Unable to correct problems, you have held broken packages.
&lt;/code&gt;&lt;/pre&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/21/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Fri, 21 Jul 2017 21:26:41 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/21/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;fontforgeで新しいバージョンになってからhurdだけがビルドできてないなーと気づいたので、&lt;a href=&#34;https://github.com/fontforge/fontforge/issues/3119&#34;&gt;問い合わせ&lt;/a&gt;だけしておく。。。&lt;/li&gt;
&lt;li&gt;VcsWatchでどうやってチェックするブランチを指定するかわからなかったので、&lt;a href=&#34;https://lists.debian.org/debian-qa/2017/07/msg00031.html&#34;&gt;問い合わせ&lt;/a&gt;だけしておく。。。&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/20/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Thu, 20 Jul 2017 05:00:31 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/20/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;ul&gt;
&lt;li&gt;riece、見落としてた&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=857775&#34;&gt;バグを閉じた&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/857568&#34;&gt;fonts-misaki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/857575&#34;&gt;fonts-seto&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/857641&#34;&gt;fonts-dejima-mincho&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;quiltのchangelogを見て、ふと指摘をもらっていたtiarraを確認したらパッチまでもらっていた。適用して&lt;a href=&#34;https://tracker.debian.org/news/857624&#34;&gt;アップロード&lt;/a&gt;
&lt;code&gt;* Fix &amp;quot;FTBFS with perl 5.26: Unescaped left brace in regex&amp;quot;:
   escape literal left braces in perl regexp in debian/rules;
   patch from Niko Tyni.
   (Closes: #826502)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/19/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Wed, 19 Jul 2017 19:51:41 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/19/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>&lt;p&gt;&lt;a href=&#34;https://qa.debian.org/developer.php?login=henrich&amp;amp;comaint=yes&#34;&gt;パッケージ一覧&lt;/a&gt;を眺めてのグルーミング作業。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/857518&#34;&gt;snapper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/857525&#34;&gt;jruby-joni&lt;/a&gt;。&lt;a href=&#34;https://lintian.debian.org/tags/missing-classpath.html&#34;&gt;「missing-classpath」&lt;/a&gt;なるwarningを消したい、ということで&lt;code&gt;Class-Path: jcodings.jar&lt;/code&gt;の1行パッチをMANIFEST.MFに追加。&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;d-iがrootパスワードの定期変更を推奨しているというツイートを見たので&lt;a href=&#34;https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=868869&#34;&gt;パッチ作ってBTS&lt;/a&gt;しておいた。&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;silversearcher-ag-elにRCバグが登録されたので、対応を依頼してたのをレビュー。同じような移行をしたdash-elをみると良いんじゃないかということでコメント→翌日アップロードしておいた&lt;/p&gt;
</description>
          </item>
        
      
    
      
        
          <item>
            <title>めんてなのおしごと</title>
            <link>https://henrich.github.io/blog/2017/07/18/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</link>
            <pubDate>Tue, 18 Jul 2017 06:40:16 +0900</pubDate>
            <author>henrich@debian.org (Hideki Yamane)</author>
            <guid>https://henrich.github.io/blog/2017/07/18/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/</guid>
            <description>

&lt;p&gt;どうやら&lt;a href=&#34;http://support.sakura.ad.jp/mainte/mainteentry.php?id=22340&#34;&gt;3時間ほどdebian-mirror.sakura.ne.jpが繋がらなくなっていた&lt;/a&gt;ようだ。&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&#34;https://udd.debian.org/dmd/?henrich%40debian.org#todo&#34;&gt;maintainer dashboard&lt;/a&gt;より。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;libmojolicious-plugin-renderfile-perlの&lt;a href=&#34;http://bugs.debian.org/839621&#34;&gt;#839621&lt;/a&gt;を修正。manのtypoは&lt;a href=&#34;https://github.com/koorchik/Mojolicious-Plugin-RenderFile/pull/20&#34;&gt;PR送った&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;libmojolicious-plugin-assetpack-perlもついでに更新&amp;hellip;しようとしたら手元のリポジトリが作業途中で放棄したものになっていた&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&#34;https://qa.debian.org/developer.php?login=henrich&amp;amp;comaint=yes&#34;&gt;パッケージ一覧&lt;/a&gt;を眺めてのグルーミング作業。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tracker.debian.org/news/857081&#34;&gt;fonts-kouzan-mouhitsu&lt;/a&gt;。サイトを見に行ったら更新されていたので反映。&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;octiconsのビルドにはnpmモジュールが必要&#34;&gt;octiconsのビルドにはnpmモジュールが必要&lt;/h2&gt;

&lt;p&gt;octiconsのビルドに必要なのを見てみるか&amp;hellip;コイツの場合、buildすることになるのでdevDependenciesみた方が良いよね。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  &amp;quot;devDependencies&amp;quot;: {
    &amp;quot;autoprefixer&amp;quot;: &amp;quot;^6.3.6&amp;quot;,
    &amp;quot;ava&amp;quot;: &amp;quot;^0.16.0&amp;quot;,
    &amp;quot;grunt&amp;quot;: &amp;quot;^1.0.1&amp;quot;,
    &amp;quot;grunt-contrib-clean&amp;quot;: &amp;quot;^1.0.0&amp;quot;,
    &amp;quot;grunt-contrib-copy&amp;quot;: &amp;quot;^1.0.0&amp;quot;,
    &amp;quot;grunt-cssnano&amp;quot;: &amp;quot;^2.1.0&amp;quot;,
    &amp;quot;grunt-svgmin&amp;quot;: &amp;quot;^4.0.0&amp;quot;,
    &amp;quot;grunt-svgstore&amp;quot;: &amp;quot;^1.0.0&amp;quot;
  },
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;grunt,grunt-contrib-clean,grunt-contrib-copyはパッケージがある。逆に言うと他のは全部無い&amp;hellip;のでパッケージングが必要。ではnpm2debでチャレンジしてみるか。autoprefixerをnpm2debすると&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; [error]   num2fraction: dependency node-num2fraction not in debian
 [error]   browserslist: dependency node-browserslist not in debian
 [error]   normalize-range: dependency node-normalize-range not in debian
 [error]   postcss-value-parser: dependency node-postcss-value-parser not in debian
 [error]   caniuse-lite: dependency node-caniuse-lite not in debian
 [error]   postcss: dependency node-postcss not in debian
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;browserslistをnpm2debすると&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; [error]   caniuse-lite: dependency node-caniuse-lite not in debian
 [error]   electron-to-chromium: dependency node-electron-to-chromium not in debian
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;hellip;という感じでひたすら叩いていく。雛形づくりまでは簡単だけど、その後のITP登録やライセンス周りの雛形直しとかが大変そう。&amp;hellip;この作業で&lt;strong&gt;150個以上のnpmモジュールをdebパッケージにすることが必要&lt;/strong&gt;なようだ。マジか&amp;hellip;。&lt;/p&gt;

&lt;h3 id=&#34;パッケージに落とせてない所&#34;&gt;パッケージに落とせてない所&lt;/h3&gt;

&lt;p&gt;css-treeはalpha版しかないからかnpm2debがコケる。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ npm2deb create css-tree
Traceback (most recent call last):
  File &amp;quot;/usr/bin/npm2deb&amp;quot;, line 7, in &amp;lt;module&amp;gt;
    sys.exit(main(sys.argv))
  File &amp;quot;/usr/lib/python3/dist-packages/npm2deb/scripts.py&amp;quot;, line 138, in main
    args.func(args)
  File &amp;quot;/usr/lib/python3/dist-packages/npm2deb/scripts.py&amp;quot;, line 273, in create
    npm2deb.start()
  File &amp;quot;/usr/lib/python3/dist-packages/npm2deb/__init__.py&amp;quot;, line 71, in start
    self.download()
  File &amp;quot;/usr/lib/python3/dist-packages/npm2deb/__init__.py&amp;quot;, line 404, in download
    raise ValueError(exception)
ValueError: Error downloading package css-tree
npm ERR! notarget No compatible version found: css-tree@&#39;*&#39;
npm ERR! notarget Valid install targets:
npm ERR! notarget [&amp;quot;1.0.0-alpha&amp;quot;,&amp;quot;1.0.0-alpha2&amp;quot;,&amp;quot;1.0.0-alpha3&amp;quot;,&amp;quot;1.0.0-alpha4&amp;quot;,&amp;quot;1.0.0-alpha5&amp;quot;,&amp;quot;1.0.0-alpha6&amp;quot;,&amp;quot;1.0.0-alpha7&amp;quot;,&amp;quot;1.0.0-alpha8&amp;quot;,&amp;quot;1.0.0-alpha9&amp;quot;,&amp;quot;1.0.0-alpha10&amp;quot;,&amp;quot;1.0.0-alpha11&amp;quot;,&amp;quot;1.0.0-alpha12&amp;quot;,&amp;quot;1.0.0-alpha13&amp;quot;,&amp;quot;1.0.0-alpha14&amp;quot;,&amp;quot;1.0.0-alpha15&amp;quot;,&amp;quot;1.0.0-alpha16&amp;quot;,&amp;quot;1.0.0-alpha17&amp;quot;,&amp;quot;1.0.0-alpha18&amp;quot;,&amp;quot;1.0.0-alpha19&amp;quot;]
npm ERR! notarget 
npm ERR! notarget This is most likely not a problem with npm itself.
npm ERR! notarget In most cases you or one of your dependencies are requesting
npm ERR! notarget a package version that doesn&#39;t exist.

npm ERR! System Linux 4.9.0-2-amd64
npm ERR! command &amp;quot;/usr/bin/nodejs&amp;quot; &amp;quot;/usr/bin/npm&amp;quot; &amp;quot;pack&amp;quot; &amp;quot;css-tree&amp;quot;
npm ERR! cwd /home/henrich/src/collabmaint/npm-for-octicons/css-tree
npm ERR! node -v v4.8.3
npm ERR! npm -v 1.4.21
npm ERR! code ETARGET
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /home/henrich/src/collabmaint/npm-for-octicons/css-tree/npm-debug.log
npm ERR! not ok code 0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;それから以下については、どのモジュールに対して作業すればいいのかがまだ理解できていない。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; [error]   @ava/write-file-atomic: dependency node-@ava/write-file-atomic not in debian                      
 [error]   @ava/babel-preset-transform-test-files: dependency node-@ava/babel-preset-transform-test-files not in debian                                                                                              
 [error]   @ava/babel-preset-stage-4: dependency node-@ava/babel-preset-stage-4 not in debian                
 [error]   @concordance/react: dependency node-@concordance/react not in debian                              
 [error]   @types/node: dependency node-@types/node not in debian
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;npm2debでの変換中、気になるメッセージとしては以下。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Using fakeupstream to download npm dist tarballs, because upstream
git repo is missing tags. Its better to ask upstream to tag their releases
instead of using npm dist tarballs as dist tarballs may contain pre built files
and may not include tests.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;upstreamにタグうちをお願いしてこい、ということらしいが、150個以上もあるとどれだったかわからんわ。。。&lt;/p&gt;
</description>
          </item>
        
      
    
  </channel>
</rss>
