<!DOCTYPE html>
<html class="no-js" lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.53" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Forget me not...">
    <meta name="author" content="">

    <meta name="keyword" content="">
    <link rel="shortcut icon" href="/favicon.ico">

    <title>Forget me not... &middot; Forget me not...</title>

   	
    
        <link rel="stylesheet" href="https://henrich.github.io/blog//css/theme/simplex.css">
    

    <link rel="stylesheet" href="https://henrich.github.io/blog//css/font-awesome.min.css">

   	
   	<link rel="stylesheet" href="https://henrich.github.io/blog//css/style.css">


    
    <script src="https://henrich.github.io/blog//js/jquery.min-2.1.4.js"></script>
    <script src="https://henrich.github.io/blog//js/bootstrap.min-3.3.5.js"></script>

    
    <link href="https://henrich.github.io/blog/index.xml" rel="alternate" type="application/rss+xml" title="Forget me not..." />
</head>
<body lang="en">
    
    <div class="container">
    <div class="row">
        <div class="navbar navbar-default navbar-inverse" role="navigation">
            <div class="navbar-header">
                <a class="navbar-brand" href="https://henrich.github.io/blog/">Forget me not...</a>
            </div>
            <div class="navbar-collapse collapse navbar-responsive-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://henrich.github.io/blog/">Home</a></li>
                    <li><a href="https://henrich.github.io/blog//post/">Blog</a></li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>



    <div class="container">
        
        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/01/16/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Tue, Jan 16, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<ul>
<li>qrencodeパッケージの<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=677984#13">バグレポートにコメント追加しておいた</a>。数日様子を見てクローズするのが良いだろうと思う。</li>
<li><a href="https://tracker.debian.org/news/901773">fonts-sawarabi-minchoパッケージをアップロード</a></li>
</ul>

<hr />

<p>salsaに移行する際にgitのURLが「git@salsa.debian.org:fonts-team/fonts-sawarabi-mincho.git」のように設定されているのにモニョモニョしている。今までは「git+ssh://anonscm.debian.org/&hellip;git」のようにプロトコル指定だったが、これを追加するとエラーになる。でもgitコマンドはSSH使ってsalsaにアクセスしている。何故だ。</p>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/01/15/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Mon, Jan 15, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p>昨日苦しんだ問題を<a href="https://github.com/fukuchi/libqrencode/issues/117">upstreamにissue報告した</a>。</p>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/01/14/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Sun, Jan 14, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<ul>
<li>qrencodeパッケージがちょっと古くなっているようだ。<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=887144">upstreamのサイトが移動してるね、ということでBTS</a></li>
<li>ついでに自分の手元でアップデート出来ないかな？と作業して大方できた。新規追加されたtestスクリプトがconfigureを引数なしでハードコードしていて実行されるのでパッケージのインストールが壊れるという問題があったのに引っかかって小一時間潰してしまった&hellip;。</li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/01/13/subversion%E3%81%8B%E3%82%89%E3%81%8A%E5%BC%95%E3%81%A3%E8%B6%8A%E3%81%97/">subversionからお引っ越し</a></h3>
						<small><span class="label label-primary">
							
								Sat, Jan 13, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p>www.debian.or.jpのコンテンツはSubversionで管理していて、コミット可能なのはJPのメンバーだけだったのだけど、salsa.debian.orgに引っ越して見通しを良くしてみたくなったので作業した。</p>

<p>svn2gitを使いコンバート。</p>

<p>非常にわかりづらい（というか導線がない？）のだけど、GitLabにOrganizationというかTeamというかを登録するページからdebianjp-teamとして登録し、適当なsub projectとしてwebを作り、コンバートしたGit repositoryを突っ込む。</p>

<p>Ansibleで<a href="https://cloudgarage.jp/">CloudGarage</a>のVPSへデプロイ（ここで現状のサイトコンテンツの更新手順に更新漏れを見つけたり）。CloudGarageさんは<a href="https://cloudgarage.jp/dap/">開発者支援プログラム</a>を使わせてもらっていて助かる。相変わらず書いたplaybook.ymlがちょっと出来のいいバッチファイル程度なのが気になるけど、仕方がない。</p>

<p>とまぁ、そんなこんなで時間を使った。</p>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/01/08/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Mon, Jan 8, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<ul>
<li><a href="https://tracker.debian.org/news/900074">fonts-oradano-mincho-gsrrをアップロード</a></li>
<li><a href="https://tracker.debian.org/news/900087">birdfontをアップロード</a></li>
<li>ミラーサーバーのリソースがCPUを中心に余ってるので、GitLab Runnerにホストを提供しようと思ったのだけども、salsa-adminに問い合わせた所「無理かもー」ともらった。排他的にサービスを提供する、という点だけがネック。</li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/01/07/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Sun, Jan 7, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p>年末年始で間が空いてしまった&hellip;。</p>

<ul>
<li><a href="https://tracker.debian.org/news/899819">libxmlbirdをアップデート</a></li>
</ul>

<hr />

<p>年末年始でようやく新しいミラーサーバー new-debian-mirror.sakura.ne.jp の設定に手を付けました（ありがとうございます＞さくらインターネットさま）。初めてのAnsible&hellip;ですが、今のところはバッチファイルよりちょっとマシ程度の状況。やはり複数サーバー運用して整理するのが必要とかじゃないとモチベーションが湧かないですね&hellip;。まぁ、次にセットアップが必要になった場合は一発流せばいいだけというのは気楽にはなりました。</p>

<p>新しいサーバーにはbcacheを使っています、<a href="https://wiki.archlinux.jp/index.php/Bcache">ありがとうArch Wiki</a>。ディスクを大量に積むのもよいのですが、既に後2年ぐらいは戦えそうな容量を頂けたので、SSDでキャッシュする方向に走るのが良いかな、と。速度はそこまで出ないにしてもアクセスが多くなっても大丈夫よ、と。</p>

<p>CacheデバイスのSSDですが、最初はRAID1を設定してもらっていましたが、思い直して設定変更。JBODが選べないので仕方なくRAID0にしました。生まれて初めて使ったよ、RAID0&hellip;。HDDよりは死にづらいかなーというのと、死んでも構わないよねー（負荷が増えるだけ）というのと、容量が欲しかったんや&hellip;というのの3点からRAID0選択と相成りました。</p>

<pre><code>#!/bin/sh

BACKING_DEVICE=/dev/sda3
CACHE_DEVICE=/dev/sdb

make-bcache -B $BACKING_DEVICE -C $CACHE_DEVICE

echo `bcache-super-show $CACHE_DEVICE | grep cset.uuid | awk '{print $2}'` \
 &gt; /sys/block/bcache0/bcache/attach

if [ -f /dev/bcache0 ]; then
  mkfs.xfs /dev/bcache0
else
  echo &quot;There's no Bcache device.&quot;
fi
</code></pre>

<p>手作業でやったのを後からまとめ直すと上記のような感じ。短いな&hellip;。チューンしたほうがいい点があるのかもしれませんが、知見がないのでデフォルト値そのまま。ファイルシステムにxfs選んだのは毎度ext?なので、ちょっとは変わったことしたかったのと、btrfsの利点を活かせることはなさそうだよなぁ、という辺りから。</p>

<p>ufwを実行しようかどうしようか、という辺りとSNMP監視が出来てない風味だよね？というのを確認したら、終わり。そして、切り替え前後でおかしなことが起きたらその対処、と。</p>

<hr />

<p>muninの設定続き。</p>

<pre><code>$ sudo munin-run http_loadtime auto
http___localhost_.value /etc/munin/plugins/http_loadtime: line 105: -f: command not found
</code></pre>

<p>$time_binというのが無いようだ。<code>which time</code> してるだけなのに、見つからない？timeパッケージにあるのだけど、これが入ってないんだな&hellip;</p>

<pre><code>$ sudo munin-run acpi
/etc/munin/plugins/acpi: 1: eval: bc: not found
thermal_zone0.value
/etc/munin/plugins/acpi: 1: eval: bc: not found
thermal_zone1.value

$ sudo apt install bc

$ sudo munin-run acpi
thermal_zone0.value 49.000
thermal_zone1.value 40.000
</code></pre>

<p>これはbc。</p>

<p>Suggestsにあるのが多いパターンなのだけど、それを確認して入れろ、というのはしんどくないかなぁ。</p>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2017/12/23/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Sat, Dec 23, 2017
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<ul>
<li><a href="https://tracker.debian.org/news/895990">apt-listchangesのpo訳が取り込まれました</a>。</li>
</ul>

<hr />

<ul>
<li><a href="https://salsa.debian.org/">https://salsa.debian.org/</a> が動き始めたようだ。リポジトリは自動で移動したりするのだろうか？</li>
<li>とりあえず二要素認証をOnに&hellip;と思って有効にしようとしたら、まずはQRコードをGoogle Authenticatorで読み取って有効にしないといけなかった。その上でYubiKeyを追加。何故この手順が必要なのだろう？デバイスが1つだけじゃない、ということが重要？</li>
</ul>

<hr />

<ul>
<li><p>boot時のエラーメッセージが気になったので、BIOSを上げてみようと思い立つ。そう言えば昔grubから直接ISOイメージ起動した記憶が&hellip;と思って<a href="http://www.thinkwiki.org/wiki/BIOS_Upgrade">調べる</a>と<a href="https://packages.debian.org/stretch/grub-imageboot">grub-imageboot</a>というツールがあったのでインストール、<a href="https://download.lenovo.com/pccbbs/mobiles/j5uj58ww.txt">該当のBIOSのISOイメージ</a>をダウンロードして、bootできるようにして再起動&hellip;したのだけども、うんともすんとも言わず。仕方がないのでUSBメモリに書き出す方法の方で対応した。</p>

<pre><code>$ sudo apt install genisoimage
$ geteltorito biosimage.iso &gt; biosupdate.img
$ sudo dd if=biosupdate.img of=/dev/sdb bs=512K
</code></pre></li>

<li><p>BIOSは最新になった、でも消えない。。。ってあれ、これmicrocodeって言ってるからCPUじゃね？ということで <code>apt install intel-microcode</code> で直った（<a href="https://tracker.debian.org/pkg/intel-microcode">最新のパッケージはbackports提供</a>なので、Stretchの人はbackportsから入れると良い）。AMDなCPUの人もamd-microcodeで。どちらもnon-freeコンポーネントに含まれてるが、まぁbinaryだしどうしようもないだろうなぁ。TPMのエラーもBIOSで有効にしたら消えた。残ってるのはACPIなエラーだけ。</p></li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2017/12/17/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Sun, Dec 17, 2017
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/gpg">gpg</a>
						
								 , 
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p><a href="https://dev.gnupg.org/T3619">GnuPGのバグを見つけたのでレポートしておきました</a>。あとLFの人が書いてるガイドに<a href="https://github.com/lfit/itpol/issues/27">Issue</a>と<a href="https://github.com/lfit/itpol/pull/26">PR</a>。</p>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2017/12/11/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Mon, Dec 11, 2017
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<ul>
<li><a href="https://tracker.debian.org/news/895478">fonts-ricty-diminishedを更新</a>（GPGキーのテストをしていたらsignキーを間違えてたのでアップロードがものすごく遅くなった&hellip;）</li>
<li><a href="https://tracker.debian.org/news/896167">os-autoinstのしょうもないミスを指摘されたので修正</a>。なんで気づかなかったんや。。。</li>
<li><a href="https://tracker.debian.org/news/896165">jruby-joniの更新</a>

<ul>
<li>ついでに debian/patches 以下をforwardして<a href="https://github.com/jruby/joni/pull/31">Pull Request</a></li>
</ul></li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2017/12/04/gpg%E3%82%81%E3%82%82-subkey/">GPGめも - subkey</a></h3>
						<small><span class="label label-primary">
							
								Mon, Dec 4, 2017
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
								 , 
							<a href="/blog/tags/gpg">gpg</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p>GPGのsubkeyについて。</p>

<ul>
<li>たとえば持ち運びを行うlaptopでGPGを使っているが、laptopを紛失盗難したとしたとする。当然、鍵のrevokeが必要になるがこの場合、

<ul>
<li>masterkeyのみの運用だとすると、新しいGPG鍵を作って1から知り合いなどとkeysignを交換してweb of trustを再構築する羽目になる。</li>
<li>laptopではsubkeyを運用していれば、それをrevokeしてもmasterkeyのweb of trustは失われない。</li>
</ul></li>
<li>そしてprivate masterkeyは通常触らないところに厳重に保管しておける。通常使いはsubkeyで行い、どうしても&hellip;という時にはmasterkeyを使うということができる。</li>
</ul>

<p>なるほどねー。</p>

<p>ちなみにどうしてもという時というのは以下らしい。
   - 他の人の鍵にsignする（キーサインのときですね）、あまりないけど前にしたsignをrevokeする
   - 自分の鍵をrevokeする
   - subkeyを作る・revokeする
   - 有効期限の変更
   - masterkeyのrevoke用の証明書の作成
   - UIDの設定変更</p>

<p>あー、今だとlaptopにはGPG鍵入れてないけど、これはありかもしれないね。ということで<a href="https://wiki.debian.org/Subkeys">Debian WikiでのSubkey作成手順</a>に従って作ってみる。</p>

<pre><code>$ umask 077; tar -cf $HOME/gnupg-backup.tar -C $HOME .gnupg (バックアップ)
$ gpg --list-keys henrich@debian.org (自分のKEYIDを取得)

pub   rsa4096 2009-05-23 [SC] [有効期限: 2019-05-21]    
      58E1222F9696C885A3CD104C5D328D082AAAB140          
uid           [  究極  ] Hideki Yamane (Debian-JP) &lt;henrich@debian.or.jp&gt;  
uid           [  究極  ] Hideki Yamane &lt;henrich@debian.org&gt;
uid           [  究極  ] Hideki Yamane (private) &lt;henrich@iijmio-mail.jp&gt;
sub   rsa4096 2009-05-23 [E] [有効期限: 2019-05-21]

$ gpg --edit-key  58E1222F9696C885A3CD104C5D328D082AAAB140
gpg (GnuPG) 2.2.3; Copyright (C) 2017 Free Software Foundation, Inc.       
This is free software: you are free to change and redistribute it.         
There is NO WARRANTY, to the extent permitted by law.                      
                                                                   
秘密鍵が利用できます。                                                     
                                                                           
sec  rsa4096/5D328D082AAAB140                                              
     作成: 2009-05-23  有効期限: 2019-05-21  利用法: SC                    
     信用: 究極        有効性: 究極                                        
ssb  rsa4096/95F59E65108820E1                                              
     作成: 2009-05-23  有効期限: 2019-05-21  利用法: E                     
[  究極  ] (1). Hideki Yamane (Debian-JP) &lt;henrich@debian.or.jp&gt;           
[  究極  ] (2)  Hideki Yamane &lt;henrich@debian.org&gt;
[  究極  ] (3)  Hideki Yamane (private) &lt;henrich@iijmio-mail.jp&gt;

gpg&gt; addkey (subkeyの追加)
ご希望の鍵の種類を選択してください:
   (3) DSA (署名のみ)
   (4) RSA (署名のみ)
   (5) Elgamal (暗号化のみ)
   (6) RSA (暗号化のみ)
あなたの選択は? 4  (←Debianパッケージなどで署名が必要なのでこちらを今回は選択)
RSA 鍵は 1024 から 4096 ビットの長さで可能です。
鍵長は? (3072) 4096 (←4096にしたけど、masterkeyより大きなのは選べるのかしら？)
要求された鍵長は4096ビット
鍵の有効期限を指定してください。
         0 = 鍵は無期限
      &lt;n&gt;  = 鍵は n 日間で期限切れ
      &lt;n&gt;w = 鍵は n 週間で期限切れ
      &lt;n&gt;m = 鍵は n か月間で期限切れ
      &lt;n&gt;y = 鍵は n 年間で期限切れ
鍵の有効期間は? (0)1y (masterkeyよりも短いほうが良いそうなのでとりあえず1年にしておく)
鍵は2018年12月04日 18時54分30秒 JSTで期限切れとなります
これで正しいですか? (y/N) y
本当に作成しますか? (y/N) y
たくさんのランダム・バイトの生成が必要です。キーボードを打つ、マウスを動か
す、ディスクにアクセスするなどの他の操作を素数生成の間に行うことで、乱数生
成器に十分なエントロピーを供給する機会を与えることができます。

sec  rsa4096/5D328D082AAAB140
     作成: 2009-05-23  有効期限: 2019-05-21  利用法: SC
     信用: 究極        有効性: 究極
ssb  rsa4096/95F59E65108820E1
     作成: 2009-05-23  有効期限: 2019-05-21  利用法: E
ssb  rsa4096/723BFA427D8774AD (←今回出来たのはこの鍵)
     作成: 2017-12-04  有効期限: 2018-12-04  利用法: S
[  究極  ] (1). Hideki Yamane (Debian-JP) &lt;henrich@debian.or.jp&gt;
[  究極  ] (2)  Hideki Yamane &lt;henrich@debian.org&gt;
[  究極  ] (3)  Hideki Yamane (private) &lt;henrich@iijmio-mail.jp&gt;

gpg&gt; save
</code></pre>

<p>で、この後の手順は、と&hellip;</p>

<ul>
<li>USBメモリに ~/.gnupg をバックアップして</li>
<li><code>Here comes the tricky part: you need to remove the private master key.</code> え？「private masterkeyを削除する」？？？マジか。</li>
</ul>

<p>GnuPG 2.1以降なら <code>~/.gnupg/private-keys-v1.d/&lt;KEYGRIP&gt;.key</code> を削除せよ、と。KEYGRIPはmaster keyの&rdquo;keygrip&rdquo;で、<code>gpg2 --with-keygrip --list-key &lt;YOURMASTERKEYID&gt;</code> で手に入るぞ、と。ただし、旧バージョンのGnuPGから新しい形式に移行している場合は<code>~/.gnupg/secring.gpg</code> の方に private master keyがあるかもしれないから、こっちも消せ、と。GnuPG 2.1以前の場合も書いてあるけど、そんな環境使ってる人のことを考えるの面倒なので、原文見てほしい。</p>

<p>ここまで来たら <code>gpg --edit-key &lt;YOURMASTERKEYID&gt; passwd</code> でパスフレーズを変更してしまう。これで日常のパスフレーズが漏れても、元々のパスフレーズがわからなければ、たとえprivate master keyにアクセスできても使えないよね&hellip;という、まぁ気休めにはなる？</p>

<hr />

<ul>
<li>encryptしたUSBメモリにprivate master key置く、って言ってるけど、何を使ってencryptするんだろね？</li>
<li>そもそもUSBメモリの耐久性とかどうなのかな、とか。何にバックアップしておくのが正しいのだろう？</li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
	</div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="text-center">
                    

<ul class="pagination">
    
    <li class="page-item">
        <a href="/blog/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/blog/page/6/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/page/6/">6</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/blog/page/7/">7</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/page/8/">8</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/page/19/">19</a></li>
    
    
    <li class="page-item">
    <a href="/blog/page/8/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/blog/page/19/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <hr>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row col-md-12">
            <footer>
                <div class="pull-left">
                    <p>
                        &copy; 2015-  Hideki Yamane ~ Powered By <a href="http://hugo.spf13.com">Hugo</a> - version: 0.53 ~ <a href="https://henrich.github.io/blog//license">License</a>
                    </p>
                </div>

                
                <div class="pull-right">
                    
                    
                    
                        <a href="https://twitter.com/henrich" target="_blank">
                        <i class="fa fa-twitter-square fa-2x"></i></a>
                    
                    
                    
                    
                    
                        <a href="https://henrich.github.io/blog/index.xml" target="_blank">
                        <i class="fa fa-rss-square fa-2x"></i></a>
                    
                </div>
            </footer>
        </div>
    </div>

    
    </body>
</html>

