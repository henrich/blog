<!DOCTYPE html>
<html class="no-js" lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.53" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Forget me not...">
    <meta name="author" content="">

    <meta name="keyword" content="">
    <link rel="shortcut icon" href="/favicon.ico">

    <title>Forget me not... &middot; Forget me not...</title>

   	
    
        <link rel="stylesheet" href="https://henrich.github.io/blog//css/theme/simplex.css">
    

    <link rel="stylesheet" href="https://henrich.github.io/blog//css/font-awesome.min.css">

   	
   	<link rel="stylesheet" href="https://henrich.github.io/blog//css/style.css">


    
    <script src="https://henrich.github.io/blog//js/jquery.min-2.1.4.js"></script>
    <script src="https://henrich.github.io/blog//js/bootstrap.min-3.3.5.js"></script>

    
    <link href="https://henrich.github.io/blog/index.xml" rel="alternate" type="application/rss+xml" title="Forget me not..." />
</head>
<body lang="en">
    
    <div class="container">
    <div class="row">
        <div class="navbar navbar-default navbar-inverse" role="navigation">
            <div class="navbar-header">
                <a class="navbar-brand" href="https://henrich.github.io/blog/">Forget me not...</a>
            </div>
            <div class="navbar-collapse collapse navbar-responsive-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://henrich.github.io/blog/">Home</a></li>
                    <li><a href="https://henrich.github.io/blog//post/">Blog</a></li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>



    <div class="container">
        
        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/05/04/vyos%E3%82%92%E3%82%82%E3%81%86%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E7%9C%BA%E3%82%81%E3%82%8B/">VyOSをもうちょっと眺める</a></h3>
						<small><span class="label label-primary">
							
								Fri, May 4, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
								 , 
							<a href="/blog/tags/vyos">vyos</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p><a href="https://github.com/vyos">https://github.com/vyos</a> を眺めてパッケージの一つ <a href="https://github.com/vyos/net-snmp">net-snmp のパッケージリポジトリ</a>を見たのだけど、変更点はdebian/rulesでconfigure option1行足してるだけ。issueが無いので質問も出来ないのだけど、これはdebian側で吸収してもらう検討をしたほうが良いのでは？</p>

<p>他のパッケージでもdebian/rulesでvyosの開発環境だったらバージョン番号を変更する、というパッチを書いてるだけだったり&hellip;何のためのパッチなのだ？</p>

<p>これに類することを確認するには</p>

<ul>
<li><a href="https://github.com/vyos">https://github.com/vyos</a> 以下のリポジトリを全て眺めて、debian/changelogを見てみる？</li>
<li>とはいえchangelogまともに書いてない場合も多そうだから、export して元のバージョンのパッケージとdiffを作る？</li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/05/03/vyos%E3%81%A8%E6%88%AF%E3%82%8C%E3%81%A6%E3%81%BF%E3%81%9F/">VyOSと戯れてみた</a></h3>
						<small><span class="label label-primary">
							
								Thu, May 3, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
								 , 
							<a href="/blog/tags/vyos">vyos</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p>Note: VyOSの使い方とかは一切書いてません。</p>

<p>Twitterで<a href="https://github.com/vyos/vyos-build/blob/current/README.md">VyOSのビルド説明の最新の場所</a>を教えてもらったので、それに従って作業</p>

<pre><code>$ git clone https://github.com/vyos/vyos-build.git
$ sudo debootstrap jessie ./jessie-chroot http://debian-mirror.sakura.ne.jp/debian
$ sudo cp -arp vyos-build jessie-chroot/root/
$ sudo chroot jessie-chroot
</code></pre>

<pre><code># cd root/vyos-build
# ./configure
/usr/bin/env: python3: No such file or directory
</code></pre>

<p>debootstrapで作った最小環境なのでそりゃそうですよね、ということでpython3パッケージを追加。</p>

<pre><code># apt install python3
# ./configure 
Checking if packages required for VyOS image build are installed
Missing packages: sudo make live-build pbuilder devscripts python3-pystache python3-git
Missing binaries: 
Build environment check failed, fix the issues and retry
</code></pre>

<pre><code># apt install sudo make live-build pbuilder devscripts python3-pystache python3-git
Reading package lists... Done
Building dependency tree       
Reading state information... Done
E: Unable to locate package python3-git
</code></pre>

<p>あれ。<a href="https://tracker.debian.org/pkg/python-git">https://tracker.debian.org/pkg/python-git</a> によると</p>

<pre><code>oldstable:  0.3.2~RC1-3
old-bpo:  2.1.1-2~bpo8+1
</code></pre>

<p>なので、多分 jessie-backports リポジトリ追加しないとダメなんじゃないだろうか。</p>

<pre><code># echo &quot;deb http://debian-mirror.sakura.ne.jp/debian jessie-backports main&quot; &gt;&gt; /etc/apt/sources.list
# apt update
# apt install python3
# ./configure 
Checking if packages required for VyOS image build are installed
All dependencies are installed
</code></pre>

<p>問題なく通ったので、isoイメージの作成をやってみる。</p>

<pre><code># make iso
Checking build configuration
[2018-05-03 11:39:13] lb clean 
P: Cleaning chroot
Starting VyOS ISO image build
Setting up additional APT entries
Configuring live-build
[2018-05-03 11:39:13] lb config noauto --architectures amd64 --bootappend-live boot=live components hostname=vyos username=live nopersistence noautologin nonetworking union=overlay --linux-flavours amd64-vyos --linux-packages linux-image-4.14.26 --bootloader syslinux --binary-images iso-hybrid --debian-installer false --distribution jessie --iso-application VyOS --iso-publisher root@hp --iso-volume VyOS --debootstrap-options --variant=minbase --exclude=isc-dhcp-client,isc-dhcp-common,ifupdown --include=apt-transport-https --mirror-bootstrap http://deb.debian.org/debian --mirror-chroot http://deb.debian.org/debian --mirror-chroot-security http://deb.debian.org/debian-security --mirror-binary http://deb.debian.org/debian --mirror-binary-security http://deb.debian.org/debian-security --archive-areas main contrib non-free --firmware-chroot true --updates true --security true
P: Updating config tree for a debian/jessie/amd64 system
P: Symlinking hooks...
It's not like I'm building this specially for you or anything!
[2018-05-03 11:39:13] lb build 
P: live-build 4.0.3
P: Building config tree for a debian/jessie/amd64 system
[2018-05-03 11:39:13] lb bootstrap 
P: Setting up cleanup function
[2018-05-03 11:39:13] lb bootstrap_cache restore
P: Restoring bootstrap stage from cache...
[2018-05-03 11:39:14] lb bootstrap_cdebootstrap 
[2018-05-03 11:39:14] lb bootstrap_debootstrap 
P: Begin bootstrapping system...
P: If the following stage fails, the most likely cause of the problem is with your mirror configuration or a caching proxy.
P: Running debootstrap (download-only)... 
I: Retrieving Release 
I: Retrieving Release.gpg 
I: Checking Release signature
I: Valid Release signature (key id 75DDC3C4A499F1A18CB5F3C8CBF8D6FD518E17E1)
I: Retrieving Packages 
I: Validating Packages 
I: Retrieving Packages 
I: Validating Packages 
I: Retrieving Packages 
I: Validating Packages 
I: Resolving dependencies of required packages...
</code></pre>

<p>んん？なんか見たことのある出力&hellip;debootstrap使ってるな&hellip;あ、lb云々とあるから <code>live-build</code> がdebootstrap呼んでるのね。</p>

<pre><code>[2018-05-03 11:43:13] lb bootstrap_archive-keys 
Ign http://deb.debian.org jessie InRelease
Hit http://deb.debian.org jessie Release.gpg
Hit http://deb.debian.org jessie Release
Get:1 http://deb.debian.org jessie/main amd64 Packages [6789 kB]
Hit http://deb.debian.org jessie/contrib amd64 Packages
Hit http://deb.debian.org jessie/non-free amd64 Packages
Get:2 http://deb.debian.org jessie/contrib Translation-en [38.3 kB]
Get:3 http://deb.debian.org jessie/main Translation-en [4583 kB]
Get:4 http://deb.debian.org jessie/non-free Translation-en [72.1 kB]
Fetched 11.5 MB in 7s (1596 kB/s)
Reading package lists...
[2018-05-03 11:43:21] lb bootstrap_cache save
P: Saving bootstrap stage to cache...
[2018-05-03 11:43:22] lb chroot_devpts install
P: Begin mounting /dev/pts...
[2018-05-03 11:43:22] lb chroot_proc install
P: Begin mounting /proc...
[2018-05-03 11:43:22] lb chroot_selinuxfs install
[2018-05-03 11:43:22] lb chroot_sysfs install
P: Begin mounting /sys...
(snip)
</code></pre>

<pre><code>Get:1 http://dev.packages.vyos.net/repositories/current/vyos/ current/main libsnmp-base all 5.7.2.1+vyos2+current1 [230 kB]
</code></pre>

<p>なるほど、Jessieでは足りない・変更した部分については<a href="http://dev.packages.vyos.net/repositories/">別のリポジトリ</a>を持ってるのね。あれ、見て回ったら<a href="http://dev.packages.vyos.net/repositories/current/vyos/pool/main/l/live-boot/">http://dev.packages.vyos.net/repositories/current/vyos/pool/main/l/live-boot/</a> とかに特にrevisionも変更されてないパッケージが。何故だろう？</p>

<p>ビルドが終わってどこにisoが出来たかさっぱりわからぬ。。。あ、<code>build/vyos-1.2.0-rolling+201805031139-amd64.iso</code> というファイルがあった。これはsymlinkで <code>live-image-amd64.hybrid.iso</code> を指してる。あと、<code>build/cache/packages.binary</code> 以下にはdebパッケージが保存されてるな。さらにmake isoしたらこれが使われるのかな、ということで再度実行してみる。。。どうやらそのようだ。</p>

<p>今日はここまで。
で、<a href="https://github.com/vyos/vyos-build/pull/17">https://github.com/vyos/vyos-build/pull/17</a> に今日触ったところで <code>debootstrap使ったほうがいいな</code>、というプルリクエストを送っときました。</p>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/05/02/%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E3%83%90%E3%82%B0%E3%83%AC%E3%83%9D%E3%83%BC%E3%83%88%E3%81%97%E3%81%A6%E3%82%8B%E3%81%8B%E3%81%A8%E3%81%8B.../">どうやってバグレポートしてるか、とか...</a></h3>
						<small><span class="label label-primary">
							
								Wed, May 2, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p>URLは非常に単純で <code>https://bugs.debian.org/&lt;package&gt;</code> とすればバグレポートを参照できる。今回は<a href="https://bugs.debian.org/git-buildpackage">https://bugs.debian.org/git-buildpackage</a> 。<code>querybts git-buildpackage</code>でも閲覧はできるのだけど、バグレポートが大量にあると行ったり来たりして参照するのはブラウザのほうがやりやすいので&hellip;。</p>

<p>ソースの取得は <code>apt source &lt;package&gt;</code> で可能。なのだけど、パッケージ作業をGitで作業してたりすると、まぁHEADに合わせて変更して <code>git format-patch</code> したpatchファイルを送りつけた方が取り込んでもらいやすいのは間違いないので、Vcsで取得。どこにリポジトリがあってどのVcs使ってるか&hellip;は特に考えること無くdebcheckoutコマンドを使う。<code>debcheckout git-buildpackage</code> として取得。</p>

<pre><code>$ debcheckout git-buildpackage
declared git repository at https://git.sigxcpu.org/cgit/git-buildpackage/ 
git clone https://git.sigxcpu.org/cgit/git-buildpackage/ git-buildpackage ...
Cloning into 'git-buildpackage'... 
</code></pre>

<p>&hellip;としたのだけど、なんで自前のrepoに保持してるのか。超遅い。通常ならsalsa.debian.org配下なので直ぐなのに、10分経っても全然応答が無い&hellip;仕方がないので、今回は<code>apt source git-buildpackage</code>で取得。</p>

<p>さて、optionでgrepしたりして&hellip;</p>

<pre><code> $ grep git-component -r ./
./docs/manpages/gbp-buildpackage.xml:      &lt;arg rep='repeat'&gt;&lt;option&gt;--git-component=&lt;/option&gt;&lt;replaceable&gt;component&lt;/replaceable&gt;&lt;/arg&gt;
./docs/manpages/gbp-buildpackage.xml:          &lt;term&gt;&lt;option&gt;--git-component=&lt;/option&gt;&lt;replaceable&gt;COMPONENT&lt;/replaceable&gt;
./tests/component/deb/test_buildpackage.py:                            '--git-component=foo',
./tests/component/deb/test_buildpackage.py:                            '--git-component=foo',
./tests/component/deb/test_buildpackage.py:                                       '--git-component=foo'])
./tests/component/deb/test_buildpackage.py:                                       '--git-component=foo',
</code></pre>

<p>あれ？全然引っかかってないね。componentで検索し直して、諸々を見てみるとcomp_typeとかで指定されてるようで、これはoptions.comp_typeから取ってる。んで、これはgbp.confで指定してるのか&hellip;じゃぁ、複数のcomp_typeは存在できないね！という感じ。</p>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/05/01/gbp-buildpackage-git-component%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E7%BD%A0/">gbp buildpackage --git-componentオプションの罠</a></h3>
						<small><span class="label label-primary">
							
								Tue, May 1, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p>poppler-dataパッケージは、一般的なパッケージと違ってupstream tarballが複数ある構成（multiple upstream tarball）なので、git-buildpackageが使えなかったのだけど、git-buildpackage側での実験的なサポートが追加されていたので思い立って作業。</p>

<p>まずはGitリポジトリにリリース済みのパッケージをインポートして、salsaにインポート。</p>

<pre><code>$ gbp import-dscs --debsnap poppler-data
$ git remote add salsa git@salsa.debian.org:debian/poppler-data.git
$ git push salsa --all
$ git push salsa --tags
</code></pre>

<p>で、manページを参照して実験的な &ndash;git-component オプションの使い方を確認。</p>

<pre><code>$ gbp buildpackage --git-pbuilder  --git-pristine-tar --git-ignore-branch --git-component=ai0 --git-component=from-ghostscript
</code></pre>

<ul>
<li>対象となるtarballはpoppler-data_0.4.9.orig-from-ghostscript.tar.xzとpoppler-data_0.4.9.orig-ai0.tar.gzとしてpristine-tarブランチにコミットされている</li>
<li>multiple tarballは orig.tarball-<name>.tar.[g|x]gという形で保持されているので、<name>の部分だけを指定</li>
</ul>

<p>&hellip;というところまでは分かったのだけど、現状ではエラーになる。<del>理由は<code>指定される対象のtarballはtar.gzしか想定していない</code>ため</del>&hellip;。なんてこった。（追記：正確には、デフォルトで指定されているcompressionオプション＝gzip以外を見ない。これを変更するにはgbp.confで指定すればいいのだけど、全てのorig.tarballのcompression指定になってしまうので、multiple upstream tarballでcompressionが混在しているパターンの場合は必ずエラーになってしまう&hellip;）</p>

<pre><code>$ gbp buildpackage --git-pbuilder  --git-pristine-tar --git-ignore-branch --git-component=from-ghostscript
(snip)
gbp:error: Error creating poppler-data_0.4.9.orig-from-ghostscript.tar.gz: Pristine-tar couldn't checkout &quot;poppler-data_0.4.9.orig-from-ghostscript.tar.gz&quot;: fatal: Path 'poppler-data_0.4.9.orig-from-ghostscript.tar.gz.delta' does not exist in 'refs/heads/pristine-tar'
pristine-tar: git show refs/heads/pristine-tar:poppler-data_0.4.9.orig-from-ghostscript.tar.gz.delta failed
</code></pre>

<p>仕方がないので、gbp使わないでリリースしましたよ。えぇ。</p>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/04/29/%E9%81%85%E3%80%85%E3%81%A8%E3%81%97%E3%81%A6%E9%80%B2%E3%81%BE%E3%81%9A/">遅々として進まず</a></h3>
						<small><span class="label label-primary">
							
								Sun, Apr 29, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/etc">etc</a>
						
								 , 
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p>Samsung SSDに/homeを移そうとコピーを実施したが、一晩経っても10GBぐらいしか進まず。これはいくらなんでも遅すぎる&hellip;ということでファームウェアを更新することを決める。</p>

<p><a href="http://www.samsung.com/semiconductor/minisite/ssd/download/tools/">http://www.samsung.com/semiconductor/minisite/ssd/download/tools/</a> にてファームウェアのisoファイルを取得、マウントしてimgファイルを取り出してさらにそれをマウントしてファイルを取り出し、FreeDOSのブータブルUSBメモリにコピーしてファームウェアのアップデートを行った。以前よりはマシになったが、それでも遅い&hellip;。</p>

<hr />

<p>古いThinkPad X121eにFedora28Betaを入れたのだが、何故かパスワードが通らなくなっていたので、今度はArchLinuxを入れてみようとする。インストールドキュメントに従ってインストール&hellip;したのだけど、全く起動してこない。何故だ。何度か試したが変わらず。いや、正確には一度だけgrubが起動してくるまでにはなったが、指定されてるUUIDのパーティション見えないよ？というので結局起動せず。</p>

<p>次にUbuntu18.04 Server版を入れる&hellip;jaistミラーから落としたら中身がdebian-installerで変わってない？途中のpartitionerのところ（47%までは進んだ）で進まなくなってしまったので中断して、改めてUbuntu.comから落としたら、こちらのイメージは独自インストーラー版に変わっていた。こちらを試したかったのよね、シンプルでいい感じですね&hellip;とインストールは特にエラーも無く終わったのだけど、やっぱりoperating system not foundで変わらず。何故だ&hellip;。</p>

<p>で、Debian9.4のインストーラーでやったら、普通にインストール終わり→起動したので、これにArchを上書きして完了。パーティションテーブルがおかしかったのだろうけど、d-iがなんとかしてくれた、という感じ。</p>

<p>めも
* d-iのメッセージ、〜のロードは「〜の読み込み」でいい気がする
* あと全体通して読み返してみたい所</p>

<hr />

<p>Archはpacstrapとかarch-chrootとか変わったものがあるんだな―という感想。<a href="https://git.archlinux.org/arch-install-scripts.git/">https://git.archlinux.org/arch-install-scripts.git/</a> にスクリプトがあるようだ。debootstrapよりも技巧的。なにか参考にできる部分があると良いな、ということでメモを残す。</p>

<hr />

<p>poppler-dataのアップデートが出てた。Fedoraではどうやらpoppler-dataじゃなくて素のAdobe CMapデータをパッケージにしているようなのを先日見かけたので、それを伝えるべく<a href="https://lists.freedesktop.org/archives/poppler/2018-April/012999.html">popplerのメーリングリストでのupstreamのAdobeがアップデートしたよ、という私からのメール</a>には一切反応せず、か。相変わらずだな、popplerの人は&hellip;。multiple upstream tarballの為にどうgitで扱うべか、という感じで未だにVCSには登録してない。</p>

<p>&hellip;debian/changelogの記述間違えた。。。</p>

<p>あと libmojolicious-plugin-assetpack-perl もアップデートしておいた。</p>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/04/02/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Mon, Apr 2, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<ul>
<li>debootstrapはNMUしてたら「普通にアップロードしてよ」と言われ、確認したらrepositoryの権限も貰っていた&hellip;昔に追加されたのかな？とりあえず、アップロード→regression直しの繰り返しをしている。ツールとしての性格上致し方がないが、package外での利用が考慮漏れしてた。

<ul>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=844118#10">ダウンロード済みの.debファイルを使うようにするパッチも投げた</a>。これで手元ではかかる時間が半分に減ったので、できれば入れたいところ。</li>
<li>その前に既存のpatchを一掃する作業が待っているわけですが&hellip;。</li>
</ul></li>
<li>書き忘れていたが <a href="https://tracker.debian.org/news/940647/accepted-xfonts-jisx0213-020040511-7-source-all-into-unstable/">xfonts-jisx0213パッケージを木下さんの了解を得てfonts-team配下に移動して更新</a>。</li>
<li>tiarraパッケージをexperimentalに放置してたので<a href="https://tracker.debian.org/news/940648/accepted-tiarra-20100212r39209-7-source-all-into-unstable/">unstableに上げた</a></li>
<li><a href="https://tracker.debian.org/news/939922/accepted-jcodings-1028-1-source-all-into-unstable/">jcodingsパッケージをアップデート</a>。<a href="https://tracker.debian.org/news/944791/accepted-jcodings-1029-1-source-all-into-unstable/">その２</a></li>
<li><a href="https://tracker.debian.org/news/940144/accepted-jruby-joni-2116-1-source-all-into-unstable/">jruby-joniパッケージ</a></li>
<li><a href="https://tracker.debian.org/news/940343/accepted-fonts-sawarabi-mincho-20180315-1-source-all-into-unstable/">fonts-sawarabi-minchoパッケージ</a></li>
<li><a href="https://tracker.debian.org/news/944419/accepted-sphinx-intl-0911-1-source-amd64-into-unstable/">sphinx-intlパッケージをアップデート</a>、patchを入れ忘れていたので<a href="https://tracker.debian.org/news/944433/accepted-sphinx-intl-0911-2-source-amd64-into-unstable/">再度アップロード</a></li>
</ul>

<hr />

<ul>
<li>xfonts-* パッケージを fonts-team で引き受けるべく ITA したのだけど、気力が足りなくて作業していない。</li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/03/24/debootstrap-bug-triage/">debootstrap bug triage</a></h3>
						<small><span class="label label-primary">
							
								Sat, Mar 24, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<ul>
<li><p>ここしばらくの作業はdebootstrapのbug triageを中心。</p>

<ul>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=563647">manpageの不備にはパッチ提案</a></li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=698677">エラーメッセージの不備にもパッチ提案</a></li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=861343">mawk固定でダメじゃん</a>には、意味あるかな〜と思ってパッチ出したけど「意味ないじゃん、このパッチ」とやっぱりツッコミが。</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=866401">ダウンロードエラーのメッセージが情報量０</a>には提案パッチ出したけど、それ意味なくね？のツッコミが。もうちょっと続ける予定。</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=872059">昔と同じ挙動にしてよ</a>には「パッチ当てるの反対の人〜？」と質問だけ流した。</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=890419">libvirt-lxcで動かすパッチ</a>にはpatchタグがついてなかったので追加。</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=877855">&ndash;second-stageで指定したコンポーネント情報が欠落</a>は挙動を確認して該当のソースを提示してコメント。</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=707033">/homeをvfatなパーティションでマウントしてるとエラー出る</a>は再現できないのでunreproducibleタグ</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=731859">variant=fakechrootが動かない</a>も再現できないのでunreproducibleタグ</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=684520">Android+busyboxで動かない</a>は情報量少なすぎなのでmoreinfoタグ</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=816892">sync指定があるがsync -fの方がいい</a>も理由がわからないのでmoreinfoタグ</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=891009">Ubuntuのchroot作ろうとしてるのにdeb.debian.orgがリポジトリ指定されちゃう</a>のを登録</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=891393">Ubuntuのchroot作ろうとしてエラーになる</a>のは登録したらLinuxカーネルパッケージのメンテナからamd64だと過去のカーネルと非互換性があるから、というのを教えてもらった</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=700368">apt-moveで作ったリポジトリだとエラーになる</a>のは「SHA1は既に過去のものなので、このために対応する必要あるのかな？」というコメント入れて重要度下げた</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=640992">ChrootでもProxy設定引き継いで欲しい</a>はパッと見でわかるようにタイトルを変えた</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=627073">ダウンロード時にどこからダウンロードしたのか表示して欲しい</a>は「なんで？」とコメントしてmoreinfoタグ</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=764851">blankonというdistro対応して</a>はパッチのリンクが全部死んでたのでmoreinfoタグ</li>

<li><p><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=893713">udebに不要なスクリプトファイルがあるよね</a>を登録</p></li>

<li><p>TriageではなくNMUを既に準備したのは <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=864734">Bug#864734</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=586158">Bug#586158</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=718632">Bug#718632</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=754318">Bug#754318</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=762431">Bug#762431</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=806780">Bug#806780</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=833525">Bug#833525</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=732628">Bug#732628</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=734324">Bug#734324</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=775444">Bug#775444</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=798562">Bug#798562</a>、<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=798564">Bug#798564</a>。大半はpatchが登録してあったのでそれを進めてるだけ。ただ、regressionが怖いので小分けにしてNMUし、10日ごとに投入していく予定。先は長い。</p></li>
</ul></li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/03/07/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Wed, Mar 7, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<ul>
<li><p><a href="https://tracker.debian.org/news/938331">nailgunがjrubyビルドをぶっ壊してたのが見つかったので修正した</a>。</p>

<ul>
<li>どうやら maven-debian-helper を使ってる場合は Depends: ${maven:Depends} しないとキチンと依存関係が書かれないようだった。気づいてなかった&hellip;あと、debian/install で指定した以外のファイルも maven-debian-helper が勝手にインストールするようだ</li>
</ul></li>

<li><p>debootstrapをNMUでuploadした。deleyed/10なので10日待つ。</p>

<pre><code>debootstrap (1.0.93+nmu1) unstable; urgency=medium
 
* Non-maintainer Upload.
* Use force_md5 for breezy, dapper and edgy (Closes: #659360, #676373)
Now you can create Ubuntu breezy/dapper/edgy chroot.
* Add Suggests: ubuntu-archive-keyring for debootstraping Ubuntu on Debian.
When you fetch Ubuntu packages ubuntu-archive-keyring is necessary.
(Closes: #736995)
* Change repository URI for old Ubuntu releases (Closes: #676370, #839073)
Archived Ubuntu releases are at old-releases.ubuntu.com/ubuntu
* Set correct keyring and default mirror for old debian releases.
Now you can fetch popato/woody/sarge/etch/lenny/squeeze if you want.
(Closes: #891404, #600647, #792729)
 
-- Hideki Yamane &lt;henrich@debian.org&gt;  Mon, 05 Mar 2018 22:28:22 +0900
</code></pre></li>

<li><p>もういっちょdebootstrapのNMUを準備。上のがtestingに落ちたら即アップロード予定。</p></li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/03/04/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Sun, Mar 4, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<ul>
<li>sylpheedパッケージの更新を放り込んだ</li>
<li><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=346388">sylpheedがJPilotサポートを既に落としてたので関連バグを閉じた</a></li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
            	
		
			<div class="row">
				
				<div class="col-md-offset-1 col-md-10">
					<h3><a href="https://henrich.github.io/blog/2018/03/03/%E3%82%81%E3%82%93%E3%81%A6%E3%81%AA%E3%81%AE%E3%81%8A%E3%81%97%E3%81%94%E3%81%A8/">めんてなのおしごと</a></h3>
						<small><span class="label label-primary">
							
								Sat, Mar 3, 2018
							</span>&nbsp;in
							 using tags
							
								
							<a href="/blog/tags/debian">debian</a>
						
					</small>
				</div>
			</div>
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
					<br>
					
						<p>ここしばらくの作業とか。</p>

<ul>
<li>林さんの依頼で<a href="https://salsa.debian.org/debian/libhinawa">libhinawaをインポート</a></li>
<li>birdfontが新しいvalacでコンパイルできない問題をupstreamに報告したら対応してもらえたので、<a href="https://tracker.debian.org/news/937423">更新してアップロード</a></li>
<li><a href="https://tracker.debian.org/news/936899">libmojo-rabbitmq-client-perlパッケージをアップロード</a></li>
<li><a href="https://tracker.debian.org/news/936895">libmojolicious-plugin-assetpack-perlパッケージをアップロード</a></li>
<li>debootstrapパッケージと戯れたり。</li>
</ul>

					
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<hr>
				</div>
			</div>
		
	

        
	</div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="text-center">
                    

<ul class="pagination">
    
    <li class="page-item">
        <a href="/blog/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/blog/page/3/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/blog/page/4/">4</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/page/5/">5</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/blog/page/19/">19</a></li>
    
    
    <li class="page-item">
    <a href="/blog/page/5/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/blog/page/19/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <hr>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row col-md-12">
            <footer>
                <div class="pull-left">
                    <p>
                        &copy; 2015-  Hideki Yamane ~ Powered By <a href="http://hugo.spf13.com">Hugo</a> - version: 0.53 ~ <a href="https://henrich.github.io/blog//license">License</a>
                    </p>
                </div>

                
                <div class="pull-right">
                    
                    
                    
                        <a href="https://twitter.com/henrich" target="_blank">
                        <i class="fa fa-twitter-square fa-2x"></i></a>
                    
                    
                    
                    
                    
                        <a href="https://henrich.github.io/blog/index.xml" target="_blank">
                        <i class="fa fa-rss-square fa-2x"></i></a>
                    
                </div>
            </footer>
        </div>
    </div>

    
    </body>
</html>

